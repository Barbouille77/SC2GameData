<?xml version="1.0" encoding="us-ascii"?>
<tree root="961432E0C6A7DCC8">
	<node name="Root Node" type="Select" id="961432E0C6A7DCC8">
		<insertChild id="24D30B3D89370265"/><!-- Ability Check -->
	</node>
	<node name="Ability Check" type="AbilityUsable" id="24D30B3D89370265" comment="This Node is the start of the branch. It check that the ability is actually usable before doing any logic for it.">
		<property name="Ability" valueSource="literal" value="KaelthasFlamestrike"/>
		<insertChild id="646D389C31A54EE3"/><!-- Base Node -->
	</node>
	<node name="Base Node" type="And" id="646D389C31A54EE3" comment="This Node links targeting Logic, ability use and talent modifications">
		<variable name="AbilityRange" type="Number" valueSource="lookup" value="Abil,KaelthasFlamestrike,Range" comment="Range of the Ability"/>
		<variable name="AbilityMissileRadius" type="Number" comment="Width of the Searches"/>
		<variable name="AbilityMissilePierceCount" type="Number" comment="Number of Blockers this can go through"/>
		<variable name="AbilityAOERadius" type="Number" valueSource="lookup" value="Effect,KaelthasFlamestrikeSearchArea,AreaArray[0].Radius" comment="Radius of the Search"/>
		<variable name="AbilityLowManaThreshHold" type="Number" value="0.4" comment="Low Threshhold for Casting"/>
		<variable name="AbilityHighManaThreshHold" type="Number" value="0.75" comment="High threshhold for Casting"/>
		<variable name="AbilityTargetPoint" type="Point" comment="Point to use ability on"/>
		<insertChild id="A6F343D74527F3EA"/><!-- Targeting Selecting Node -->
		<insertChild id="DBC8112C96F391FC"/><!-- Use Ability -->
	</node>
	<node name="Use Ability" type="Ability" id="DBC8112C96F391FC">
		<property name="Ability" valueSource="literal" value="KaelthasFlamestrike"/>
		<property name="TargetPoint" valueSource="variable" value="AbilityTargetPoint"/>
	</node>
	<node name="Targeting Selecting Node" type="Or" id="A6F343D74527F3EA">
		<insertChild id="DAE846FADB9DA66E"/><!-- Self > 75% -->
		<insertChild id="F29F86848A71B66D"/><!-- Self > 40% -->
		<insertChild id="5E9D24A439B1AC67"/><!-- Self < 40% -->
	</node>
	<node name="Self &gt; 75%" type="Energy" id="DAE846FADB9DA66E">
		<property name="Energy" valueSource="variable" value="AbilityHighManaThreshHold"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<insertChild id="9F2A043A139CAB51"/><!-- High Mana Targeting -->
	</node>
	<node name="Self &gt; 40%" type="Energy" id="F29F86848A71B66D">
		<property name="Energy" valueSource="variable" value="AbilityLowManaThreshHold"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<insertChild id="B297B9B9153DD727"/><!-- Medium Mana Targeting -->
	</node>
	<node name="Self &lt; 40%" type="Energy" id="5E9D24A439B1AC67">
		<property name="Energy" valueSource="variable" value="AbilityLowManaThreshHold"/>
		<property name="Comparison" valueSource="literal" value="LT"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<insertChild id="8AA7EF6AF55B6C1B"/><!-- Low Mana Targeting -->
	</node>
	<node name="High Mana Targeting" type="Or" id="9F2A043A139CAB51">
		<insertChild id="DD64196CC99E4E1B"/><!-- 1 Enemy Hero -->
		<insertChild id="273019F96EC61521"/><!-- 3 Enemy Minions/Mercs -->
	</node>
	<node name="Medium Mana Targeting" type="Or" id="B297B9B9153DD727">
		<insertChild id="0FF7176DABCF7228"/><!-- 2 Enemy Hero -->
		<insertChild id="E750112562C178AB"/><!-- 5 Enemy Minions/Mercs -->
	</node>
	<node name="Low Mana Targeting" type="Or" id="8AA7EF6AF55B6C1B">
		<insertChild id="4D7088AAED2251CA"/><!-- 3 Enemy Hero -->
	</node>
	<node name="1 Enemy Hero" type="FindBestAOEPoint" id="DD64196CC99E4E1B">
		<property name="TargetTypes" valueSource="literal" value=""/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxTargetDistance" valueSource="variable" value="AbilityRange"/>
		<property name="AOERadius" valueSource="variable" value="AbilityAOERadius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="AbilityTargetPoint"/>
	</node>
	<node name="2 Enemy Hero" type="FindBestAOEPoint" id="0FF7176DABCF7228">
		<property name="TargetTypes" valueSource="literal" value=""/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxTargetDistance" valueSource="variable" value="AbilityRange"/>
		<property name="AOERadius" valueSource="variable" value="AbilityAOERadius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="AbilityTargetPoint"/>
	</node>
	<node name="3 Enemy Hero" type="FindBestAOEPoint" id="4D7088AAED2251CA">
		<property name="TargetTypes" valueSource="literal" value=""/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxTargetDistance" valueSource="variable" value="AbilityRange"/>
		<property name="AOERadius" valueSource="variable" value="AbilityAOERadius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="AbilityTargetPoint"/>
	</node>
	<node name="3 Enemy Minions/Mercs" type="FindBestAOEPoint" id="273019F96EC61521">
		<property name="TargetTypes" valueSource="literal" value="Minion,Merc"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxTargetDistance" valueSource="variable" value="AbilityRange"/>
		<property name="AOERadius" valueSource="variable" value="AbilityAOERadius"/>
		<property name="MinTargets" valueSource="literal" value="3"/>
		<property name="OutputTarget" value="AbilityTargetPoint"/>
	</node>
	<node name="5 Enemy Minions/Mercs" type="FindBestAOEPoint" id="E750112562C178AB">
		<property name="TargetTypes" valueSource="literal" value="Minion,Merc"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxTargetDistance" valueSource="variable" value="AbilityRange"/>
		<property name="AOERadius" valueSource="variable" value="AbilityAOERadius"/>
		<property name="MinTargets" valueSource="literal" value="5"/>
		<property name="OutputTarget" value="AbilityTargetPoint"/>
	</node>
</tree>