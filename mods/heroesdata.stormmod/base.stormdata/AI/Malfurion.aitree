<?xml version="1.0" encoding="us-ascii"?>
<tree>
	<include file="AI/HeroMutator.aitree"/>
	<!-- TacticalRoot -->
	<mod id="6C616369000C0E06">
		<insertChild id="464A276B6A4CAFE0" after="650E7909987E3B53"/><!-- Select Ability -->
	</mod>
	<node name="Select Ability" type="Select" id="464A276B6A4CAFE0" comment="========== Ability Selector ==========">
		<insertChild id="5C21DA694245FB8F"/><!-- Regrowth Usable -->
		<insertChild id="703AE8117EC07AE1"/><!-- Tranquility Usable -->
		<insertChild id="9B17A15B3EEFDFD1"/><!-- Innervate Usable -->
		<insertChild id="C2B34FE92908E0F7"/><!-- Ice Block -->
		<insertChild id="1EC2D10C85E91BD8"/><!-- Storm Shield -->
		<insertChild id="5CDE7C5485E61BEB"/><!-- Twilight Dream Usable -->
		<insertChild id="D0632CB6FD477FE1"/><!-- Astral Communion Usable -->
		<insertChild id="3B6FDB6BC0CC2942"/><!-- Roots Usable -->
		<insertChild id="F0F0E89AC6B19FC4"/><!-- Moonfire Usable -->
		<insertChild id="65FF279AF8078529"/><!-- Rewind -->
		<insertChild id="FCDDED590494C7AF"/><!-- Shrink Ray -->
	</node>
	<node name="Regrowth" type="And" id="97E84F93F3352426">
		<variable name="RegrowthRange" type="Number" value="7"/>
		<variable name="RegrowthTargetUnit" type="Unit"/>
		<insertChild id="88C21B6316CD6483"/><!-- Talent Upgrade Check -->
		<insertChild id="A407FC9D11AE29CE"/><!-- Mana Filter -->
		<insertChild id="00AF606974723CE8"/><!-- Cast -->
	</node>
	<node name="Talent Upgrade Check" type="Sequence" id="88C21B6316CD6483">
		<property name="IgnoreChildFailures" valueSource="literal" value="true"/>
		<insertChild id="97D3D2E2406A0E9C"/><!-- Elune's Grace -->
	</node>
	<node name="Increase Range" type="SetNumber" id="AFBBEE47BC47E880">
		<property name="Variable" value="RegrowthRange"/>
		<property name="Value" valueSource="literal" value="8.75"/>
	</node>
	<node name="Mana Filter" type="Or" id="A407FC9D11AE29CE">
		<insertChild id="69C7AE840901C7F0"/><!-- Medium -->
		<insertChild id="9466E2AF1ED2AF78"/><!-- Ally under 50% -->
	</node>
	<node name="Ally under 50%" type="FindBestTarget" id="9466E2AF1ED2AF78">
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="OutputTarget" value="RegrowthTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="variable" value="RegrowthRange"/>
		<property name="TargetTypes" valueSource="literal" value="Self,Player,Ally"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign"/>
	</node>
	<node name="Medium" type="And" id="69C7AE840901C7F0">
		<insertChild id="09981B506B6F1C36"/><!-- Med Mana -->
		<insertChild id="4F1EFD733FB583E3"/><!-- Ally under 70% -->
	</node>
	<node name="Ally under 70%" type="FindBestTarget" id="4F1EFD733FB583E3">
		<property name="MaxLifeFraction" valueSource="literal" value="0.7"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="OutputTarget" value="RegrowthTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="variable" value="RegrowthRange"/>
		<property name="TargetTypes" valueSource="literal" value="Self,Player,Ally"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign"/>
	</node>
	<node name="Moonfire" type="And" id="05EEA926442396EF">
		<variable name="Moonfire Range" type="Number" value="9"/>
		<variable name="Moonfire Radius" type="Number" value="1.5"/>
		<variable name="Moonfire Target Point" type="Point"/>
		<insertChild id="EE56F17F08E34B39"/><!-- Talent Upgrade Check -->
		<insertChild id="D05178114549A58D"/><!-- Mana Filter -->
		<insertChild id="E80992E34EEEF56F"/><!-- Cast -->
	</node>
	<node name="Regrowth Usable" type="AbilityUsable" id="5C21DA694245FB8F">
		<property name="Ability" valueSource="literal" value="MalfurionRegrowth"/>
		<insertChild id="97E84F93F3352426"/><!-- Regrowth -->
	</node>
	<node name="Moonfire Usable" type="AbilityUsable" id="F0F0E89AC6B19FC4">
		<property name="Ability" valueSource="literal" value="MalfurionMoonfire"/>
		<insertChild id="05EEA926442396EF"/><!-- Moonfire -->
	</node>
	<node name="Talent Upgrade Check" type="Sequence" id="EE56F17F08E34B39">
		<property name="IgnoreChildFailures" valueSource="literal" value="true"/>
		<insertChild id="3F0A99B2844CF4F7"/><!-- Elune's Grace -->
		<insertChild id="830467FE3C993228"/><!-- Full Moonfire -->
	</node>
	<node name="Increase Range" type="SetNumber" id="53C8028F78547E4B">
		<property name="Variable" value="Moonfire Range"/>
		<property name="Value" valueSource="literal" value="11.25"/>
	</node>
	<node name="Increase Radius" type="SetNumber" id="C6CA29AB6F21A322">
		<property name="Variable" value="Moonfire Radius"/>
		<property name="Value" valueSource="literal" value="2.25"/>
	</node>
	<node name="Mana Filter" type="Or" id="D05178114549A58D">
		<insertChild id="49F28FDA6C17FC28"/><!-- Critical Health Hero -->
		<insertChild id="3D9B797F13CED3B9"/><!-- High -->
		<insertChild id="B6984DD16F116C53"/><!-- Medium -->
		<insertChild id="88CCD49AA98A1657"/><!-- Low -->
	</node>
	<node name="Medium" type="And" id="B6984DD16F116C53">
		<insertChild id="5263948039F54B91"/><!-- Med Mana -->
		<insertChild id="46C36D8F2D06C4E5"/><!--  -->
	</node>
	<node name="Med Mana" type="Energy" id="5263948039F54B91">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="High" type="And" id="3D9B797F13CED3B9">
		<insertChild id="9B9C0EA8D7914B41"/><!-- High Mana -->
		<insertChild id="8EC8FC1ACE2B36A2"/><!--  -->
	</node>
	<node name="High Mana" type="Energy" id="9B9C0EA8D7914B41">
		<property name="Energy" valueSource="literal" value="0.7"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Low" type="And" id="88CCD49AA98A1657">
		<insertChild id="10331AE9960C137E"/><!-- Low Mana -->
		<insertChild id="6D26FE3D6033A8BE"/><!--  -->
	</node>
	<node name="Low Mana" type="Energy" id="10331AE9960C137E">
		<property name="Energy" valueSource="literal" value="0.3"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Med Mana" type="Energy" id="09981B506B6F1C36">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Critical Health Hero" type="FindBestAOEPoint" id="49F28FDA6C17FC28">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.25"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="Hero Target" type="FindBestAOEPoint" id="85091AC5F33971A4">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="" type="Or" id="8EC8FC1ACE2B36A2">
		<insertChild id="85091AC5F33971A4"/><!-- Hero Target -->
		<insertChild id="CDBCCC0D51D101F3"/><!-- 3 Anything Target -->
		<insertChild id="8B73DE26C66F7C0D"/><!-- 1 Merc Target -->
	</node>
	<node name="1 Merc Target" type="FindBestAOEPoint" id="8B73DE26C66F7C0D">
		<property name="TargetTypes" valueSource="literal" value="Creep"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="3 Anything Target" type="FindBestAOEPoint" id="CDBCCC0D51D101F3">
		<property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned,AITargetableStructure"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="3"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="" type="Or" id="46C36D8F2D06C4E5">
		<insertChild id="2A9B3E006AD557B0"/><!-- Wounded Hero Target -->
		<insertChild id="AF8E8F18591DF8C0"/><!-- 2 Hero Targets -->
		<insertChild id="36B1EF4667149071"/><!-- 4 Anything Target -->
		<insertChild id="2E75C23644038B69"/><!-- 2 Mercs Target -->
	</node>
	<node name="Wounded Hero Target" type="FindBestAOEPoint" id="2A9B3E006AD557B0">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.75"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="4 Anything Target" type="FindBestAOEPoint" id="36B1EF4667149071">
		<property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned,AITargetableStructure"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="4"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="2 Mercs Target" type="FindBestAOEPoint" id="2E75C23644038B69">
		<property name="TargetTypes" valueSource="literal" value="Creep"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="" type="Or" id="6D26FE3D6033A8BE">
		<insertChild id="A40ADC7D2722D6A4"/><!-- Low Health Hero -->
		<insertChild id="FE0054F33A450EF1"/><!-- 2 Wounded Hero Targets -->
	</node>
	<node name="2 Wounded Hero Targets" type="FindBestAOEPoint" id="FE0054F33A450EF1">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.75"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="Low Health Hero" type="FindBestAOEPoint" id="A40ADC7D2722D6A4">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="Entangling Roots" type="And" id="1A145D13A07B2397">
		<variable name="Roots Range" type="Number" value="8"/>
		<variable name="Roots Radius" type="Number" value="3"/>
		<variable name="Roots Target Point" type="Point"/>
		<insertChild id="DDDF3EEF69B3CD2C"/><!-- Talent Upgrade Check -->
		<insertChild id="6B4EDD43A9B8D9A5"/><!-- Mana Filter -->
		<insertChild id="F51BA7CEF8F145EA"/><!--  -->
	</node>
	<node name="Roots Usable" type="AbilityUsable" id="3B6FDB6BC0CC2942">
		<property name="Ability" valueSource="literal" value="MalfurionEntanglingRoots"/>
		<insertChild id="1A145D13A07B2397"/><!-- Entangling Roots -->
	</node>
	<node name="Talent Upgrade Check" type="Sequence" id="DDDF3EEF69B3CD2C">
		<property name="IgnoreChildFailures" valueSource="literal" value="true"/>
		<insertChild id="4BD29F4EAD511C66"/><!-- Elune's Grace -->
		<insertChild id="D1984B619697BFCA"/><!-- Tenacious Roots -->
	</node>
	<node name="Increase Range" type="SetNumber" id="218CC9E4718D8882">
		<property name="Variable" value="Roots Range"/>
		<property name="Value" valueSource="literal" value="10"/>
	</node>
	<node name="Increase Radius" type="SetNumber" id="024233D63E9DCAA9">
		<property name="Variable" value="Roots Radius"/>
		<property name="Value" valueSource="literal" value="3.75"/>
	</node>
	<node name="" type="Ability" id="F51BA7CEF8F145EA">
		<property name="Ability" valueSource="literal" value="MalfurionEntanglingRoots"/>
		<property name="TargetPoint" valueSource="variable" value="Roots Target Point"/>
	</node>
	<node name="Mana Filter" type="Or" id="6B4EDD43A9B8D9A5">
		<insertChild id="D38B285506783B21"/><!-- High -->
		<insertChild id="69C7266144B8472A"/><!-- Medium -->
		<insertChild id="A7F611199965F44E"/><!-- Low -->
	</node>
	<node name="High" type="And" id="D38B285506783B21">
		<insertChild id="440E1A5BA7BDB61D"/><!-- High Mana -->
		<insertChild id="05886D5F9C45A9CC"/><!--  -->
	</node>
	<node name="High Mana" type="Energy" id="440E1A5BA7BDB61D">
		<property name="Energy" valueSource="literal" value="0.7"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="" type="Or" id="05886D5F9C45A9CC">
		<insertChild id="C46F0D29039EFF74"/><!-- Hero Target -->
		<insertChild id="5C973663D8FD3AC9"/><!-- 4 Anything Target -->
		<insertChild id="D8BC6E82F4D0C32B"/><!-- 2 Mercs Target -->
	</node>
	<node name="Hero Target" type="FindBestAOEPoint" id="C46F0D29039EFF74">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Roots Range"/>
		<property name="AOERadius" valueSource="variable" value="Roots Radius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="Roots Target Point"/>
	</node>
	<node name="Medium" type="And" id="69C7266144B8472A">
		<insertChild id="056E64A3370BE6FA"/><!-- Med Mana -->
		<insertChild id="6B09C137DE611DBF"/><!--  -->
	</node>
	<node name="Med Mana" type="Energy" id="056E64A3370BE6FA">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="" type="Or" id="6B09C137DE611DBF">
		<insertChild id="0066FF2BF205B139"/><!-- Wounded Hero Target -->
		<insertChild id="D30768DBB45E2AFD"/><!-- 2 Hero Targets -->
	</node>
	<node name="Wounded Hero Target" type="FindBestAOEPoint" id="0066FF2BF205B139">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.7"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Roots Range"/>
		<property name="AOERadius" valueSource="variable" value="Roots Radius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="Roots Target Point"/>
	</node>
	<node name="4 Anything Target" type="FindBestAOEPoint" id="5C973663D8FD3AC9">
		<property name="TargetTypes" valueSource="literal" value="Minion,Heroic,Summoned,AITargetableStructure"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Roots Range"/>
		<property name="AOERadius" valueSource="variable" value="Roots Radius"/>
		<property name="MinTargets" valueSource="literal" value="4"/>
		<property name="OutputTarget" value="Roots Target Point"/>
	</node>
	<node name="2 Mercs Target" type="FindBestAOEPoint" id="D8BC6E82F4D0C32B">
		<property name="TargetTypes" valueSource="literal" value="Creep"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Roots Range"/>
		<property name="AOERadius" valueSource="variable" value="Roots Radius"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="Roots Target Point"/>
	</node>
	<node name="Low" type="And" id="A7F611199965F44E">
		<insertChild id="98B06FF73D778845"/><!-- Low Mana -->
		<insertChild id="668232C5803A7E2D"/><!--  -->
	</node>
	<node name="Low Mana" type="Energy" id="98B06FF73D778845">
		<property name="Energy" valueSource="literal" value="0.3"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="" type="Or" id="668232C5803A7E2D">
		<insertChild id="639EE93BEA017C73"/><!-- Low Health Hero -->
		<insertChild id="6DF89FFE65625A10"/><!-- 2 Wounded Hero Targets -->
	</node>
	<node name="Low Health Hero" type="FindBestAOEPoint" id="639EE93BEA017C73">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.4"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Roots Range"/>
		<property name="AOERadius" valueSource="variable" value="Roots Radius"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="Roots Target Point"/>
	</node>
	<node name="2 Wounded Hero Targets" type="FindBestAOEPoint" id="6DF89FFE65625A10">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.7"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Roots Range"/>
		<property name="AOERadius" valueSource="variable" value="Roots Radius"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="Roots Target Point"/>
	</node>
	<node name="Tranquility" type="And" id="9243254C565EE113">
		<variable name="Tranquility Radius" type="Number" value="6.5"/>
		<insertChild id="E23A894EE945DD5A"/><!--  -->
		<insertChild id="958E144DEBE85938"/><!-- Cast -->
	</node>
	<node name="Tranquility Usable" type="AbilityUsable" id="703AE8117EC07AE1">
		<property name="Ability" valueSource="literal" value="MalfurionTranquility"/>
		<insertChild id="9243254C565EE113"/><!-- Tranquility -->
	</node>
	<node name="2 Hero Targets" type="FindBestAOEPoint" id="AF8E8F18591DF8C0">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Moonfire Range"/>
		<property name="AOERadius" valueSource="variable" value="Moonfire Radius"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="Moonfire Target Point"/>
	</node>
	<node name="2 Hero Targets" type="FindBestAOEPoint" id="D30768DBB45E2AFD">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Roots Range"/>
		<property name="AOERadius" valueSource="variable" value="Roots Radius"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="Roots Target Point"/>
	</node>
	<node name="Critically Weak Ally Nearby" type="UnitCount" id="74C0EB39FA0A37B0">
		<property name="TargetTypes" valueSource="literal" value="Self,Ally"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.2"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Tranquility Radius"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
	</node>
	<node name="" type="Or" id="E23A894EE945DD5A">
		<insertChild id="F4B9C12C36FCB60D"/><!-- Multiple Weak Allies Nearby -->
		<insertChild id="724984B33739D9BE"/><!-- Weak Ally Nearby -->
		<insertChild id="74C0EB39FA0A37B0"/><!-- Critically Weak Ally Nearby -->
	</node>
	<node name="Weak Ally Nearby" type="FindBestTarget" id="724984B33739D9BE">
		<property name="MaxTargetDistance" valueSource="variable" value="Tranquility Radius"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetTypes" valueSource="literal" value="Self,Ally"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.4"/>
		<property name="OutputTarget" value="Heal Ally Target"/>
		<variable name="Heal Ally Target" type="Unit"/>
		<insertChild id="07C596A7D4B884EC"/><!-- Target In Combat -->
	</node>
	<node name="Target In Combat" type="Validator" id="07C596A7D4B884EC">
		<property name="Validator" valueSource="literal" value="TargetInCombat"/>
		<property name="Target" valueSource="variable" value="Heal Ally Target"/>
	</node>
	<node name="Multiple Weak Allies Nearby" type="UnitCount" id="F4B9C12C36FCB60D">
		<property name="TargetTypes" valueSource="literal" value="Self,Ally"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Hallucination,Benign"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="TargetCount" valueSource="literal" value="3"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Tranquility Radius"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
	</node>
	<node name="Astral Communion" type="And" id="E4A04A89DA22F970">
		<variable name="Twilight Dream Radius" type="Number" value="6.9"/>
		<variable name="Astral Communion Range" type="Number" value="7.2"/>
		<variable name="Astral Target Point" type="Point"/>
		<insertChild id="A2321CF051B61980"/><!-- Mana Filter -->
		<insertChild id="023531F2683C1DE7"/><!-- Cast -->
	</node>
	<node name="Team Fight Check" type="And" id="038AAC65178C92A1">
		<insertChild id="C3D006C533847BA1"/><!-- Med Mana -->
		<insertChild id="1976A0730DD7A68E"/><!-- Med Health -->
		<insertChild id="6FF59D77462B775A"/><!-- Find Enemy Target Point -->
	</node>
	<node name="Allies Nearby" type="UnitCount" id="416FF945141E7B0F">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="RequiredTypes" valueSource="literal" value="Ally"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="SearchCenter" valueSource="variable" value="Astral Target Point"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Twilight Dream Radius"/>
		<property name="MinLifeFraction" valueSource="literal" value="0.5"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1"/>
		<property name="MissileRadius" valueSource="literal" value="0.125"/>
	</node>
	<node name="Astral Communion Usable" type="AbilityUsable" id="D0632CB6FD477FE1">
		<property name="Ability" valueSource="literal" value="MalfurionAstralCommunion"/>
		<insertChild id="E4A04A89DA22F970"/><!-- Astral Communion -->
	</node>
	<node name="Mana Filter" type="Or" id="A2321CF051B61980">
		<insertChild id="038AAC65178C92A1"/><!-- Team Fight Check -->
		<insertChild id="D321F067EFC679FC"/><!-- Find Enemy Target Point -->
	</node>
	<node name="Med Mana" type="Energy" id="C3D006C533847BA1">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Cast" type="Ability" id="023531F2683C1DE7">
		<property name="Ability" valueSource="literal" value="MalfurionAstralCommunion"/>
		<property name="TargetPoint" valueSource="variable" value="Astral Target Point"/>
	</node>
	<node name="Twilight Dream" type="And" id="46DD5B0714DDD343">
		<variable name="Twilight Dream Radius" type="Number" value="6"/>
		<insertChild id="448FBECAA72BA5CA"/><!-- Mana Filter -->
		<insertChild id="A4942779FE5B62A4"/><!-- Cast -->
	</node>
	<node name="Twilight Dream Usable" type="AbilityUsable" id="5CDE7C5485E61BEB">
		<property name="Ability" valueSource="literal" value="MalfurionTwilightDream"/>
		<insertChild id="46DD5B0714DDD343"/><!-- Twilight Dream -->
	</node>
	<node name="Mana Filter" type="Or" id="448FBECAA72BA5CA">
		<insertChild id="7137082C1B39AA92"/><!-- Team Fight Check -->
		<insertChild id="D30D296939294FBB"/><!-- Low Enemies Nearby -->
	</node>
	<node name="Team Fight Check" type="And" id="7137082C1B39AA92">
		<insertChild id="268E70FA90E34E6C"/><!-- Med Mana -->
		<insertChild id="29C64840BC9F92BF"/><!-- Med Health -->
		<insertChild id="AA0369781D455E53"/><!-- Enemies Nearby -->
		<insertChild id="166571B82EE8ECFC"/><!-- Allies Nearby -->
	</node>
	<node name="Med Mana" type="Energy" id="268E70FA90E34E6C">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Enemies Nearby" type="UnitCount" id="AA0369781D455E53">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="SearchCenter" valueSource="intrinsic" value="SelfPos"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Twilight Dream Radius"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="MinLifeFraction" valueSource="literal" value="0"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.5"/>
	</node>
	<node name="Allies Nearby" type="UnitCount" id="166571B82EE8ECFC">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="RequiredTypes" valueSource="literal" value="Ally"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="SearchCenter" valueSource="intrinsic" value="SelfPos"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Twilight Dream Radius"/>
		<property name="MinLifeFraction" valueSource="literal" value="0.5"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.5"/>
	</node>
	<node name="Low Enemies Nearby" type="UnitCount" id="D30D296939294FBB">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="SearchCenter" valueSource="intrinsic" value="SelfPos"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Twilight Dream Radius"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="MinLifeFraction" valueSource="literal" value="0"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.5"/>
	</node>
	<node name="Cast" type="Ability" id="A4942779FE5B62A4">
		<property name="Ability" valueSource="literal" value="MalfurionTwilightDream"/>
	</node>
	<node name="Find Enemy Target Point" type="FindBestAOEPoint" id="6FF59D77462B775A">
		<property name="OutputTarget" value="Astral Target Point"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Astral Communion Range"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="AOERadius" valueSource="variable" value="Twilight Dream Radius"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<insertChild id="416FF945141E7B0F"/><!-- Allies Nearby -->
	</node>
	<node name="Find Enemy Target Point" type="FindBestAOEPoint" id="D321F067EFC679FC">
		<property name="OutputTarget" value="Astral Target Point"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Astral Communion Range"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="AOERadius" valueSource="variable" value="Twilight Dream Radius"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
	</node>
	<node name="Rewind" type="And" id="93AABA1719823B9A">
		<insertChild id="2AF6099417807115"/><!-- Med Mana -->
		<insertChild id="9CAC1065C730E6A5"/><!-- Cooldown Checks -->
		<insertChild id="E208122C3C09738D"/><!-- Cast -->
	</node>
	<node name="Rewind" type="AbilityUsable" id="65FF279AF8078529">
		<property name="Ability" valueSource="literal" value="TalentRewind"/>
		<insertChild id="93AABA1719823B9A"/><!-- Rewind -->
	</node>
	<node name="Med Mana" type="Energy" id="2AF6099417807115">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Cooldown Checks" type="Or" id="9CAC1065C730E6A5">
		<insertChild id="B67CC19CD1D653DE"/><!--  -->
		<insertChild id="93C7097A3CEF2089"/><!--  -->
		<insertChild id="3FB052F178F3D581"/><!--  -->
	</node>
	<node name="" type="And" id="B67CC19CD1D653DE">
		<insertChild id="D1D5D58D758FF3F9"/><!--  -->
		<insertChild id="90FC97BA4FDEF67D"/><!--  -->
	</node>
	<node name="" type="Not" id="D1D5D58D758FF3F9">
		<insertChild id="FC9CDCCCB7824C5B"/><!-- Roots Usable -->
	</node>
	<node name="" type="Not" id="90FC97BA4FDEF67D">
		<insertChild id="8BE3819CA46DC02B"/><!-- Regrowth Usable -->
	</node>
	<node name="" type="And" id="93C7097A3CEF2089">
		<insertChild id="F08AD5C3507D1BAD"/><!--  -->
		<insertChild id="AE24EEA93FCC7FED"/><!--  -->
	</node>
	<node name="" type="Not" id="F08AD5C3507D1BAD">
		<insertChild id="5E085D27F5D2D98F"/><!-- Roots Usable -->
	</node>
	<node name="" type="Not" id="AE24EEA93FCC7FED">
		<insertChild id="FBB20880D6211BF7"/><!-- Moonfire Usable -->
	</node>
	<node name="" type="And" id="3FB052F178F3D581">
		<insertChild id="2BB49AAA68A67E85"/><!--  -->
		<insertChild id="53099D46C5EEAEFD"/><!--  -->
	</node>
	<node name="" type="Not" id="2BB49AAA68A67E85">
		<insertChild id="7D1DBD7CAF43B225"/><!-- Regrowth Usable -->
	</node>
	<node name="" type="Not" id="53099D46C5EEAEFD">
		<insertChild id="17265F4BD64E566E"/><!-- Moonfire Usable -->
	</node>
	<node name="Moonfire Usable" type="AbilityUsable" id="17265F4BD64E566E">
		<property name="Ability" valueSource="literal" value="MalfurionMoonfire"/>
	</node>
	<node name="Moonfire Usable" type="AbilityUsable" id="FBB20880D6211BF7">
		<property name="Ability" valueSource="literal" value="MalfurionMoonfire"/>
	</node>
	<node name="Roots Usable" type="AbilityUsable" id="5E085D27F5D2D98F">
		<property name="Ability" valueSource="literal" value="MalfurionEntanglingRoots"/>
	</node>
	<node name="Roots Usable" type="AbilityUsable" id="FC9CDCCCB7824C5B">
		<property name="Ability" valueSource="literal" value="MalfurionEntanglingRoots"/>
	</node>
	<node name="Regrowth Usable" type="AbilityUsable" id="8BE3819CA46DC02B">
		<property name="Ability" valueSource="literal" value="MalfurionRegrowth"/>
	</node>
	<node name="Regrowth Usable" type="AbilityUsable" id="7D1DBD7CAF43B225">
		<property name="Ability" valueSource="literal" value="MalfurionRegrowth"/>
	</node>
	<node name="Shrink Ray" type="AbilityUsable" id="FCDDED590494C7AF">
		<property name="Ability" valueSource="literal" value="TalentBucketShrinkRay"/>
		<insertChild id="66C514EF3F7477D9"/><!-- Shrink Ray -->
	</node>
	<node name="Shrink Ray" type="And" id="66C514EF3F7477D9">
		<variable name="ShrinkRayTarget" type="Unit"/>
		<variable name="ShrinkRayAllyToSave" type="Unit"/>
		<insertChild id="B5FCCBA1716DD642"/><!-- Use Cases -->
		<insertChild id="A2AE756240804729"/><!-- Cast -->
	</node>
	<node name="Use Cases" type="Or" id="B5FCCBA1716DD642">
		<insertChild id="BE22A1EF215CE4C4"/><!-- Ally to Save -->
		<insertChild id="3A9E00A708C35CA2"/><!-- Enemy To Kill -->
	</node>
	<node name="Ally to Save" type="FindBestTarget" id="BE22A1EF215CE4C4">
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Dead"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetTypes" valueSource="literal" value="Self,Ally"/>
		<property name="OutputTarget" value="ShrinkRayAllyToSave"/>
		<property name="MaxTargetDistance" valueSource="literal" value="10"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.3"/>
		<insertChild id="E0BA1FAEF0695927"/><!-- Enemy to Shrink -->
	</node>
	<node name="Enemy to Shrink" type="FindBestTarget" id="E0BA1FAEF0695927">
		<property name="TargetTypes" valueSource="literal" value=""/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic"/>
		<property name="SearchCenter" valueSource="variable" value="ShrinkRayAllyToSave"/>
		<property name="MaxTargetDistance" valueSource="literal" value="3"/>
		<property name="OutputTarget" value="ShrinkRayTarget"/>
		<property name="DistanceFactor" valueSource="literal" value="2"/>
		<property name="LifeFractionFactor" valueSource="literal" value="2"/>
	</node>
	<node name="Enemy To Kill" type="FindBestTarget" id="3A9E00A708C35CA2">
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Dead"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetTypes" valueSource="literal" value="Enemy"/>
		<property name="OutputTarget" value="ShrinkRayTarget"/>
		<property name="MaxTargetDistance" valueSource="literal" value="7"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.3"/>
		<property name="MinLifeFraction" valueSource="literal" value="0.05"/>
		<insertChild id="7BB19345B832AE56"/><!-- Ally Near -->
	</node>
	<node name="Ally Near" type="UnitCount" id="7BB19345B832AE56">
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetTypes" valueSource="literal" value="Self,Ally"/>
		<property name="MaxTargetDistance" valueSource="literal" value="4"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="SearchCenter" valueSource="variable" value="ShrinkRayTarget"/>
	</node>
	<node name="Storm Shield" type="AbilityUsable" id="1EC2D10C85E91BD8">
		<property name="Ability" valueSource="literal" value="TalentBucketStormShield"/>
		<insertChild id="AF324CB4E88297D0"/><!-- Storm Shield -->
	</node>
	<node name="Storm Shield" type="And" id="AF324CB4E88297D0">
		<insertChild id="16CBFB895BAD0BBE"/><!-- Use Cases -->
		<insertChild id="F842DA49D7F24589"/><!-- Cast -->
	</node>
	<node name="Use Cases" type="Or" id="16CBFB895BAD0BBE">
		<insertChild id="F5E25E2B161349EE"/><!-- 2 Allies -->
		<insertChild id="74D5E41CA2D89DAA"/><!-- Very Hurt Ally -->
	</node>
	<node name="2 Allies" type="UnitCount" id="F5E25E2B161349EE">
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetTypes" valueSource="literal" value="Self,Ally"/>
		<property name="MaxTargetDistance" valueSource="literal" value="8"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="SearchCenter" valueSource="intrinsic" value="SelfPos"/>
		<insertChild id="E648F3A962F8D06F"/><!-- 2 Enemies -->
	</node>
	<node name="2 Enemies" type="UnitCount" id="E648F3A962F8D06F">
		<property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic"/>
		<property name="TargetTypes" valueSource="literal" value=""/>
		<property name="MaxTargetDistance" valueSource="literal" value="10"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="SearchCenter" valueSource="intrinsic" value="SelfPos"/>
	</node>
	<node name="Very Hurt Ally" type="UnitCount" id="74D5E41CA2D89DAA">
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetTypes" valueSource="literal" value="Self,Ally"/>
		<property name="MaxTargetDistance" valueSource="literal" value="8"/>
		<property name="MaxLifeFraction" valueSource="variable" value="Health_ReturnToSpawn"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="SearchCenter" valueSource="intrinsic" value="SelfPos"/>
		<insertChild id="23EFA56E89DFB598"/><!-- Enemy Near -->
	</node>
	<node name="Enemy Near" type="UnitCount" id="23EFA56E89DFB598">
		<property name="RequiredTypes" valueSource="literal" value="Enemy,Heroic"/>
		<property name="TargetTypes" valueSource="literal" value=""/>
		<property name="MaxTargetDistance" valueSource="literal" value="10"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="SearchCenter" valueSource="intrinsic" value="SelfPos"/>
	</node>
	<node name="Innervate" type="And" id="414B706E9AAF4A07">
		<variable name="Innervate Target Unit" type="Unit"/>
		<variable name="Innervate Range" type="Number" value="7"/>
		<insertChild id="9FB5584EEE5F0D4E"/><!--  -->
		<insertChild id="08FF5D701F9BA2FF"/><!-- Cast -->
	</node>
	<node name="Innervate Usable" type="AbilityUsable" id="9B17A15B3EEFDFD1">
		<property name="Ability" valueSource="literal" value="MalfurionInnervate"/>
		<insertChild id="414B706E9AAF4A07"/><!-- Innervate -->
	</node>
	<node name="Find Close Ally" type="FindBestTarget" id="04DDCACF2DB4A89E">
		<property name="OutputTarget" value="Innervate Target Unit"/>
		<property name="TargetTypes" valueSource="literal" value="Ally"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="MinLifeFraction" valueSource="literal" value="0.5"/>
		<property name="LifeFractionFactor" valueSource="literal" value="-1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Innervate Range"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<insertChild id="A930751E0D04A601"/><!-- LTE 75% Energy -->
	</node>
	<node name="Is Mana User" type="Validator" id="57E64284A005EAC6">
		<property name="Validator" valueSource="literal" value="TargetIsManaUser"/>
		<property name="Target" valueSource="variable" value="Innervate Target Unit"/>
	</node>
	<node name="LTE 75% Energy" type="Energy" id="A930751E0D04A601">
		<property name="Energy" valueSource="literal" value="0.75"/>
		<property name="Comparison" valueSource="literal" value="LE"/>
		<property name="Target" valueSource="variable" value="Innervate Target Unit"/>
		<insertChild id="57E64284A005EAC6"/><!-- Is Mana User -->
	</node>
	<node name="" type="Or" id="9FB5584EEE5F0D4E">
		<insertChild id="04DDCACF2DB4A89E"/><!-- Find Close Ally -->
		<insertChild id="D52D464176B70672"/><!-- Find Far Ally -->
	</node>
	<node name="Find Far Ally" type="FindBestTarget" id="D52D464176B70672">
		<property name="OutputTarget" value="Innervate Target Unit"/>
		<property name="TargetTypes" valueSource="literal" value="Ally"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="MinLifeFraction" valueSource="literal" value="0.5"/>
		<property name="LifeFractionFactor" valueSource="literal" value="-1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Innervate Range"/>
		<property name="DistanceFactor" valueSource="literal" value="-1"/>
		<insertChild id="962BED344F830E28"/><!-- LTE 75% Energy -->
	</node>
	<node name="LTE 75% Energy" type="Energy" id="962BED344F830E28">
		<property name="Energy" valueSource="literal" value="0.75"/>
		<property name="Comparison" valueSource="literal" value="LE"/>
		<property name="Target" valueSource="variable" value="Innervate Target Unit"/>
		<insertChild id="DDEDCD02BBFCA69C"/><!-- Is Mana User -->
	</node>
	<node name="Is Mana User" type="Validator" id="DDEDCD02BBFCA69C">
		<property name="Validator" valueSource="literal" value="TargetIsManaUser"/>
		<property name="Target" valueSource="variable" value="Innervate Target Unit"/>
	</node>
	<node name="Ice Block" type="And" id="2976D2A576549220">
		<insertChild id="211768FAEBF82024"/><!-- Use or Cancel -->
		<insertChild id="4C5E7EE1452472E4"/><!-- Cast -->
	</node>
	<node name="Ice Block" type="AbilityUsable" id="C2B34FE92908E0F7">
		<property name="Ability" valueSource="literal" value="TalentBucketIceBlock"/>
		<insertChild id="2976D2A576549220"/><!-- Ice Block -->
	</node>
	<node name="In Combat" type="Validator" id="61858091FF16B4AA">
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<property name="Validator" valueSource="literal" value="CasterInCombat"/>
	</node>
	<node name="" type="Or" id="27D1DFA6148D4C86">
		<insertChild id="9B2CD07EA7CB9139"/><!-- Less than 40% -->
		<insertChild id="1CCB96784152D08A"/><!-- Less than 20% -->
	</node>
	<node name="Two Enemy Heroes" type="UnitCount" id="DEAB4C3BC1542B6B">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="MaxTargetDistance" valueSource="literal" value="6"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
	</node>
	<node name="Less than 40%" type="Health" id="9B2CD07EA7CB9139">
		<property name="Comparison" valueSource="literal" value="LE"/>
		<property name="Health" valueSource="literal" value="0.4"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<insertChild id="DEAB4C3BC1542B6B"/><!-- Two Enemy Heroes -->
	</node>
	<node name="One Enemy Hero" type="UnitCount" id="88A9D4D466C5219F">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="MaxTargetDistance" valueSource="literal" value="6"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
	</node>
	<node name="Less than 20%" type="Health" id="1CCB96784152D08A">
		<property name="Comparison" valueSource="literal" value="LE"/>
		<property name="Health" valueSource="literal" value="0.2"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<insertChild id="88A9D4D466C5219F"/><!-- One Enemy Hero -->
	</node>
	<node name="Use Ice Block" type="And" id="85FCF74C7C51489C">
		<insertChild id="D061DDA9A9953968"/><!--  -->
		<insertChild id="27D1DFA6148D4C86"/><!--  -->
		<insertChild id="61858091FF16B4AA"/><!-- In Combat -->
	</node>
	<node name="Use or Cancel" type="Or" id="211768FAEBF82024">
		<insertChild id="85FCF74C7C51489C"/><!-- Use Ice Block -->
		<insertChild id="7FE836952FBC10B9"/><!-- Cancel Ice Block -->
	</node>
	<node name="Cancel Ice Block" type="And" id="7FE836952FBC10B9">
		<insertChild id="EE36306C42AAA3E6"/><!-- Is Ice Blocked -->
	</node>
	<node name="Is Ice Blocked" type="UnitHasBehavior" id="EE36306C42AAA3E6">
		<property name="Unit" valueSource="intrinsic" value="Self"/>
		<property name="Behavior" valueSource="literal" value="TalentBucketIceBlock"/>
		<insertChild id="960EB936527FB57F"/><!-- No Enemy Heroes Around -->
	</node>
	<node name="No Enemy Heroes Around" type="UnitCount" id="960EB936527FB57F">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetCount" valueSource="literal" value="0"/>
		<property name="MaxTargetDistance" valueSource="literal" value="8"/>
		<property name="MaxLifeFraction" valueSource="literal" value="1"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="Comparison" valueSource="literal" value="Eq"/>
	</node>
	<node name="Med Health" type="Health" id="29C64840BC9F92BF">
		<property name="Health" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Med Health" type="Health" id="1976A0730DD7A68E">
		<property name="Health" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Elune&apos;s Grace" type="UnitHasTalent" id="97D3D2E2406A0E9C">
		<property name="Unit" valueSource="intrinsic" value="Self"/>
		<property name="Talent" valueSource="literal" value="MalfurionCombatStyleElunesGrace"/>
		<insertChild id="AFBBEE47BC47E880"/><!-- Increase Range -->
	</node>
	<node name="Elune&apos;s Grace" type="UnitHasTalent" id="4BD29F4EAD511C66">
		<property name="Unit" valueSource="intrinsic" value="Self"/>
		<property name="Talent" valueSource="literal" value="MalfurionCombatStyleElunesGrace"/>
		<insertChild id="218CC9E4718D8882"/><!-- Increase Range -->
	</node>
	<node name="Elune&apos;s Grace" type="UnitHasTalent" id="3F0A99B2844CF4F7">
		<property name="Unit" valueSource="intrinsic" value="Self"/>
		<property name="Talent" valueSource="literal" value="MalfurionCombatStyleElunesGrace"/>
		<insertChild id="53C8028F78547E4B"/><!-- Increase Range -->
	</node>
	<node name="Tenacious Roots" type="UnitHasTalent" id="D1984B619697BFCA">
		<property name="Unit" valueSource="intrinsic" value="Self"/>
		<property name="Talent" valueSource="literal" value="MalfurionMasteryTenaciousRootsEntanglingRoots"/>
		<insertChild id="024233D63E9DCAA9"/><!-- Increase Radius -->
	</node>
	<node name="Full Moonfire" type="UnitHasTalent" id="830467FE3C993228">
		<property name="Unit" valueSource="intrinsic" value="Self"/>
		<property name="Talent" valueSource="literal" value="MalfurionMasteryFullMoonfire"/>
		<insertChild id="C6CA29AB6F21A322"/><!-- Increase Radius -->
	</node>
	<node name="" type="Not" id="D061DDA9A9953968">
		<insertChild id="85835E86875CAC37"/><!-- Is Ice Blocked -->
	</node>
	<node name="Is Ice Blocked" type="UnitHasBehavior" id="85835E86875CAC37">
		<property name="Unit" valueSource="intrinsic" value="Self"/>
		<property name="Behavior" valueSource="literal" value="TalentBucketIceBlock"/>
	</node>
	<node name="Cast" type="AbilityEnqueue" id="00AF606974723CE8">
		<property name="Ability" valueSource="literal" value="MalfurionRegrowth"/>
		<property name="TargetUnit" valueSource="variable" value="RegrowthTargetUnit"/>
	</node>
	<node name="Cast" type="AbilityEnqueue" id="08FF5D701F9BA2FF">
		<property name="Ability" valueSource="literal" value="MalfurionInnervate"/>
		<property name="TargetUnit" valueSource="variable" value="Innervate Target Unit"/>
	</node>
	<node name="Cast" type="AbilityEnqueue" id="F842DA49D7F24589">
		<property name="Ability" valueSource="literal" value="TalentBucketStormShield"/>
	</node>
	<node name="Cast" type="AbilityEnqueue" id="E208122C3C09738D">
		<property name="Ability" valueSource="literal" value="TalentRewind"/>
	</node>
	<node name="Cast" type="Ability" id="958E144DEBE85938">
		<property name="Ability" valueSource="literal" value="MalfurionTranquility"/>
	</node>
	<node name="Cast" type="Ability" id="4C5E7EE1452472E4">
		<property name="Ability" valueSource="literal" value="TalentBucketIceBlock"/>
	</node>
	<node name="Cast" type="Ability" id="E80992E34EEEF56F">
		<property name="Ability" valueSource="literal" value="MalfurionMoonfire"/>
		<property name="TargetPoint" valueSource="variable" value="Moonfire Target Point"/>
	</node>
	<node name="Cast" type="Ability" id="A2AE756240804729">
		<property name="Ability" valueSource="literal" value="TalentBucketShrinkRay"/>
		<property name="TargetUnit" valueSource="variable" value="ShrinkRayTarget"/>
	</node>
</tree>