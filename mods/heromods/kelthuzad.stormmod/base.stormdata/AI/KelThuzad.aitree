<?xml version="1.0" encoding="us-ascii"?>
<tree>
	<include file="AI/HeroMutator.aitree"/>
	<!-- Offensive -->
	<mod id="87811D772E337EB7">
		<insertChild id="23A3AC0872E6240B"/><!-- Glacial Spike Usable -->
		<insertChild id="0C20110F1A34032D"/><!-- Chains Link Usable -->
		<insertChild id="7355736E0C0D0A22"/><!-- Chains Usable -->
		<insertChild id="760A2216121C2727"/><!-- Frost Nova Usable -->
		<insertChild id="051D141115676C62"/><!-- Death And Decay Usable -->
		<insertChild id="98D2064847F3C31C"/><!-- Shifting Malice Usable -->
		<insertChild id="858F383BDFDF7B9F"/><!-- Armor of the Archlich Usable -->
		<insertChild id="0835220A16717742"/><!-- Shadow Fissure Usable -->
		<insertChild id="0A380C04093A102B"/><!-- Frozen Tomb Usable -->
	</mod>
	<!-- Defensive -->
	<mod id="F21BCB9B06948439">
		<insertChild id="786665706E797F4A"/><!-- Armor of the Archlich Usable -->
		<insertChild id="A9FF1942511EAD1E"/><!-- Shifting Malice Usable -->
	</mod>
	<node name="Death And Decay" type="And" id="646E411115020000">
		<variable name="Death And Decay Target Point" type="Point"/>
		<variable name="Death And Decay Target Unit" type="Unit"/>
		<variable name="Death And Decay Range" type="Number" value="11"/>
		<variable name="Death And Decay AOE Radius" type="Number" value="2"/>
		<variable name="Death And Decay Missile Radius" type="Number" value="0.5"/>
		<insertChild id="8BF02FC5DB97A95A"/><!-- Danger Check -->
		<insertChild id="7F91D42DB7438D1F"/><!-- Plaguelands Talent Completion Check -->
		<insertChild id="00B5279963FC56BC"/><!-- Mana Filter -->
		<insertChild id="F9A9095F89D47723"/><!-- The Damned Return -->
		<insertChild id="4E10051F0B0A362F"/><!-- Cast -->
	</node>
	<node name="Death And Decay Usable" type="AbilityUsable" id="051D141115676C62">
		<property name="Ability" valueSource="literal" value="KelThuzadDeathAndDecay"/>
		<insertChild id="646E411115020000"/><!-- Death And Decay -->
	</node>
	<node name="" type="Not" id="6264687F74466E49">
		<insertChild id="2000086370656E61"/><!-- In Danger -->
	</node>
	<node name="In Danger" type="InDanger" id="2000086370656E61" comment="Check if we are in danger">
		<property name="DangerPosition" valueSource="intrinsic" value="SelfPos"/>
	</node>
	<node name="Cast" type="Ability" id="4E10051F0B0A362F">
		<property name="Ability" valueSource="literal" value="KelThuzadDeathAndDecay"/>
		<property name="TargetPoint" valueSource="variable" value="Death And Decay Target Point"/>
	</node>
	<node name="Frost Nova" type="And" id="766F4E74736F7227">
		<variable name="FrostNovaTargetUnit" type="Unit"/>
		<variable name="FrostNovaTargetUnitPoint" type="Point"/>
		<variable name="FrostNovaSearchPoint" type="Point"/>
		<variable name="FrostNovaTargetPoint" type="Point"/>
		<variable name="FrostNovaAoERadius" type="Number" value="3"/>
		<variable name="FrostNovaCritRadius" type="Number" value="1.5"/>
		<variable name="FrostNovaRange" type="Number" value="9.5"/>
		<insertChild id="047A737E48725140"/><!-- Target Selection -->
		<insertChild id="6867785B59113629"/><!-- Cast -->
	</node>
	<node name="Frost Nova Usable" type="AbilityUsable" id="760A2216121C2727">
		<property name="Ability" valueSource="literal" value="KelThuzadFrostNova"/>
		<insertChild id="766F4E74736F7227"/><!-- Frost Nova -->
	</node>
	<node name="Target Selection" type="Or" id="047A737E48725140">
		<insertChild id="5D696040696F4610"/><!-- Crit multiple Heroes -->
		<insertChild id="22021616391E2822"/><!-- Hit multiple heroes -->
		<insertChild id="3A8B2F720E25B6D3"/><!-- Mana Filter -->
	</node>
	<node name="Crit multiple Heroes" type="FindBestAOEPoint" id="5D696040696F4610" comment="AoE Radius slightly smaller than normal crit radius to heighten chance of freezing at least 1 hero.">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrostNovaRange"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="AOERadius" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="FrostNovaTargetPoint"/>
	</node>
	<node name="Hit multiple heroes" type="FindBestAOEPoint" id="22021616391E2822">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrostNovaRange"/>
		<property name="AOERadius" valueSource="variable" value="FrostNovaAoERadius"/>
		<property name="OutputTarget" value="FrostNovaSearchPoint"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<insertChild id="6B7470456474554A"/><!-- FrostNovaFindPrimaryUnit -->
	</node>
	<node name="FrostNovaFindPrimaryUnit" type="FindBestTarget" id="6B7470456474554A">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="SearchCenter" valueSource="variable" value="FrostNovaSearchPoint"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrostNovaAoERadius"/>
		<property name="OutputTarget" value="FrostNovaTargetUnit"/>
		<property name="ClipCenter" valueSource="intrinsic" value="SelfPos"/>
		<property name="ClipRadius" valueSource="variable" value="FrostNovaRange"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<insertChild id="CE7003C81075D66E"/><!--  -->
	</node>
	<node name="Frost Max Units" type="FindBestAOEPoint" id="737553557247293D" comment="Max distance set to .5 so at least that much of the crit circle will be inside the main target hero.">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="SearchCenter" valueSource="variable" value="FrostNovaTargetUnit"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="MaxTargetDistance" valueSource="literal" value="0.5"/>
		<property name="AOERadius" valueSource="variable" value="FrostNovaAoERadius"/>
		<property name="OutputTarget" value="FrostNovaTargetPoint"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="PreferredPoint" valueSource="intrinsic" value="SelfPos"/>
		<property name="PreferredPointFactor" valueSource="literal" value="2"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
	</node>
	<node name="Find a Hero" type="FindBestTarget" id="1872747E48635840">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrostNovaRange"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="OutputTarget" value="FrostNovaTargetUnit"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<insertChild id="7060737F4D725140"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="7060737F4D725140">
		<property name="InputUnit" valueSource="variable" value="FrostNovaTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="OutputPosition" value="FrostNovaTargetPoint"/>
	</node>
	<node name="Cast" type="Ability" id="6867785B59113629">
		<property name="Ability" valueSource="literal" value="KelThuzadFrostNova"/>
		<property name="TargetPoint" valueSource="variable" value="FrostNovaTargetPoint"/>
	</node>
	<node name="Chains" type="And" id="0000736E69616843">
		<variable name="ChainsTargetSearchPoint" type="Point"/>
		<variable name="ChainsTargetUnit" type="Unit"/>
		<variable name="ChainsTargetPoint" type="Point"/>
		<variable name="ChainsLinkHalfRange" type="Number" value="4.5"/>
		<variable name="ChainsRange" type="Number" value="9"/>
		<variable name="ChainsLinkRange" type="Number" value="9"/>
		<insertChild id="7C8C648B65D8BB9A"/><!--  -->
		<insertChild id="7E447D7061574769"/><!-- Cast -->
	</node>
	<node name="Chains Usable" type="AbilityUsable" id="7355736E0C0D0A22">
		<property name="Ability" valueSource="literal" value="KelThuzadChains"/>
		<insertChild id="0000736E69616843"/><!-- Chains -->
	</node>
	<node name="Find Point with 2 Enemy Heroes close enough" type="FindBestAOEPoint" id="7A070C271716033C" comment="Need to use Half Link Range as the Radius since we don&apos;t want to find units 2x the Link distance apart.">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="AOERadius" valueSource="variable" value="ChainsLinkHalfRange"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsRange"/>
		<property name="OutputTarget" value="ChainsTargetSearchPoint"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="false"/>
		<property name="DistanceFactor" valueSource="literal" value="2"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<insertChild id="17524E64527C4B50"/><!-- Determine primary target -->
	</node>
	<node name="Determine primary target" type="FindBestTarget" id="17524E64527C4B50">
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="ClipCenter" valueSource="variable" value="ChainsTargetSearchPoint"/>
		<property name="ClipRadius" valueSource="variable" value="ChainsLinkRange"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsRange"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="DistanceFactor" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="ChainsTargetUnit"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Invulnerable,Benign"/>
		<insertChild id="63484E65577C4B50"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="63484E65577C4B50">
		<property name="InputUnit" valueSource="variable" value="ChainsTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="OutputPosition" value="ChainsTargetPoint"/>
	</node>
	<node name="Cast" type="Ability" id="7E447D7061574769">
		<property name="Ability" valueSource="literal" value="KelThuzadChains"/>
		<property name="TargetPoint" valueSource="variable" value="ChainsTargetPoint"/>
	</node>
	<node name="Chains Link" type="And" id="694C736E6961032D">
		<variable name="ChainsLinkCastUnit" type="Unit"/>
		<variable name="ChainsLinkCastPoint" type="Point"/>
		<variable name="ChainsLinkTargetUnit" type="Unit"/>
		<variable name="ChainsLinkTargetPoint" type="Point"/>
		<variable name="ChainsLinkRange" type="Number" value="9"/>
		<insertChild id="958C41C8D37A4465"/><!-- Find Chains Link Source Unit -->
		<insertChild id="617A5C4417250D33"/><!-- ChainsLinkUseAbilityOnTarget -->
	</node>
	<node name="Chains Link Usable" type="AbilityUsable" id="0C20110F1A34032D">
		<property name="Ability" valueSource="literal" value="KelThuzadChainsLink"/>
		<insertChild id="694C736E6961032D"/><!-- Chains Link -->
	</node>
	<node name="Find Chained Enemy Hero" type="FindBestTarget" id="6E4B606E7F47403D">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="literal" value="30"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="Behavior" valueSource="literal" value="KelThuzadChainsEnemySearchImpactTargetAB"/>
		<property name="OutputTarget" value="ChainsLinkCastUnit"/>
	</node>
	<node name="ChainsLinkGetFindCastPoint" type="UnitPosition" id="6E4A656E7F473427">
		<property name="InputUnit" valueSource="variable" value="ChainsLinkCastUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="OutputPosition" value="ChainsLinkCastPoint"/>
	</node>
	<node name="Find Other Hero" type="FindBestTarget" id="5251507D7E333E27">
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="SearchCenter" valueSource="variable" value="ChainsLinkCastPoint"/>
		<property name="MinTargetDistance" valueSource="literal" value="0.1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsLinkRange"/>
		<property name="LifeFractionFactor" valueSource="literal" value="1"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="ChainsLinkTargetUnit"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MissilePierceCount" valueSource="literal" value="1"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<insertChild id="5751507D0A293E26"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="5751507D0A293E26">
		<property name="InputUnit" valueSource="variable" value="ChainsLinkTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="OutputPosition" value="ChainsLinkTargetPoint"/>
	</node>
	<node name="ChainsLinkUseAbilityOnTarget" type="Ability" id="617A5C4417250D33">
		<property name="Ability" valueSource="literal" value="KelThuzadChainsLink"/>
		<property name="TargetPoint" valueSource="variable" value="ChainsLinkTargetPoint"/>
	</node>
	<node name="Shadow Fissure" type="And" id="6946770A16141B20">
		<variable name="ShadowFissureTargetUnit" type="Unit"/>
		<variable name="ShadowFissureTargetPoint" type="Point"/>
		<insertChild id="17716449414267BC"/><!-- Mana Filter -->
		<insertChild id="43383304081C2D0F"/><!-- Cast -->
	</node>
	<node name="Shadow Fissure Usable" type="AbilityUsable" id="0835220A16717742">
		<property name="Ability" valueSource="literal" value="KelThuzadShadowFissure"/>
		<insertChild id="6946770A16141B20"/><!-- Shadow Fissure -->
	</node>
	<node name="Cast" type="Ability" id="43383304081C2D0F">
		<property name="Ability" valueSource="literal" value="KelThuzadShadowFissure"/>
		<property name="TargetPoint" valueSource="variable" value="ShadowFissureTargetPoint"/>
	</node>
	<node name="Frozen Tomb" type="And" id="6F546E657A6F102B">
		<variable name="FrozenTombTargetSearchPoint" type="Point"/>
		<variable name="FrozenTombTargetUnit" type="Unit"/>
		<variable name="FrozenTombAoEHalfRadius" type="Number" value="3"/>
		<variable name="FrozenTombAoERadius" type="Number" value="6"/>
		<insertChild id="52AE2FDFE651A4F4"/><!-- Danger Check -->
		<insertChild id="0EEC69256DC2B3D3"/><!-- Mana Filter -->
		<insertChild id="6762414F042B1E35"/><!-- Cast -->
	</node>
	<node name="Frozen Tomb Usable" type="AbilityUsable" id="0A380C04093A102B">
		<property name="Ability" valueSource="literal" value="KelThuzadFrozenTomb"/>
		<insertChild id="6F546E657A6F102B"/><!-- Frozen Tomb -->
	</node>
	<node name="Find 3 Heroes within range" type="FindBestAOEPoint" id="1123051A00686F62" comment="Half Radius to make sure potential targets are at most 6 apart (spell radius)">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MinTargets" valueSource="literal" value="3"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="AOERadius" valueSource="variable" value="FrozenTombAoEHalfRadius"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="OutputTarget" value="FrozenTombTargetSearchPoint"/>
		<insertChild id="54494D766D3D2D21"/><!-- Find Target Unit -->
	</node>
	<node name="Find Target Unit" type="FindBestTarget" id="54494D766D3D2D21">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="ClipCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="ClipRadius" valueSource="variable" value="FrozenTombAoEHalfRadius"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="LifeFractionFactor" valueSource="literal" value="-1"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="FrozenTombTargetUnit"/>
		<insertChild id="1AC6A6812E81A48A"/><!--  -->
	</node>
	<node name="Cast" type="Ability" id="6762414F042B1E35">
		<property name="Ability" valueSource="literal" value="KelThuzadFrozenTomb"/>
		<property name="TargetUnit" valueSource="variable" value="FrozenTombTargetUnit"/>
	</node>
	<node name="Armor of the Archlich Defensive" type="And" id="1D0A07111D2C7F4A">
		<insertChild id="7C6F4F6672080B26"/><!-- < 60% -->
		<insertChild id="7F67685273650B2B"/><!-- In Combat -->
		<insertChild id="78780B2000000B2B"/><!-- Is Threatened -->
		<insertChild id="74684674170D1626"/><!-- Cast -->
	</node>
	<node name="Armor of the Archlich Usable" type="AbilityUsable" id="786665706E797F4A">
		<property name="Ability" valueSource="literal" value="KelThuzadArchlichArmor"/>
		<insertChild id="1D0A07111D2C7F4A"/><!-- Armor of the Archlich Defensive -->
	</node>
	<node name="&lt; 60%" type="Health" id="7C6F4F6672080B26" comment="Want to use it above Critical Health so you will use it before getting murdered.">
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<property name="Comparison" valueSource="literal" value="LT"/>
		<property name="Health" valueSource="literal" value="0.6"/>
	</node>
	<node name="Is Threatened" type="Or" id="78780B2000000B2B">
		<insertChild id="7A64665573650D2F"/><!-- In Danger -->
		<insertChild id="37010B113D060D56"/><!-- Enemy Hero Nearby -->
	</node>
	<node name="Enemy Hero Nearby" type="UnitCount" id="37010B113D060D56">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="literal" value="8"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
	</node>
	<node name="In Danger" type="InDanger" id="7A64665573650D2F" comment="Check if we are in danger">
		<property name="DangerPosition" valueSource="intrinsic" value="SelfPos"/>
		<property name="EnemyRadius" valueSource="literal" value="8"/>
		<property name="AllyRadius" valueSource="literal" value="12"/>
	</node>
	<node name="In Combat" type="Validator" id="7F67685273650B2B">
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<property name="Validator" valueSource="literal" value="CasterInCombat"/>
	</node>
	<node name="Cast" type="Ability" id="74684674170D1626">
		<property name="Ability" valueSource="literal" value="KelThuzadArchlichArmor"/>
	</node>
	<node name="Glacial Spike" type="And" id="1C3D968FE2C40F49">
		<variable name="GlacialSpikeRange" type="Number" value="8"/>
		<insertChild id="B01F4E56AD280AE6"/><!-- Med Mana -->
		<insertChild id="9CBE55CD7DEFBA6B"/><!--  -->
		<insertChild id="5B0B2FD40976AA12"/><!--  -->
	</node>
	<node name="Glacial Spike Usable" type="AbilityUsable" id="23A3AC0872E6240B">
		<property name="Ability" valueSource="literal" value="KelThuzadGlacialSpike"/>
		<insertChild id="1C3D968FE2C40F49"/><!-- Glacial Spike -->
	</node>
	<node name="" type="Or" id="9CBE55CD7DEFBA6B">
		<insertChild id="1C51C926EDE81617"/><!-- Chains Usable -->
		<insertChild id="65BF8712F1E29468"/><!-- Chains Link Usable -->
	</node>
	<node name="Chains Usable" type="AbilityUsable" id="1C51C926EDE81617">
		<property name="Ability" valueSource="literal" value="KelThuzadChains"/>
	</node>
	<node name="Chains Link Usable" type="AbilityUsable" id="65BF8712F1E29468">
		<property name="Ability" valueSource="literal" value="KelThuzadChainsLink"/>
	</node>
	<node name="" type="Or" id="5B0B2FD40976AA12">
		<variable name="GlacialSpikeTargetUnit" type="Unit"/>
		<variable name="GlacialSpikeTargetPoint" type="Point"/>
		<insertChild id="840C1926E88D6AD1"/><!-- Find Close Enemies -->
		<insertChild id="14B30CC1BBA929D3"/><!-- Find Midrange Enemy -->
		<insertChild id="B1C2F6C8D0A92DD0"/><!-- Find Far Enemy -->
	</node>
	<node name="Find Close Enemies" type="FindBestTarget" id="840C1926E88D6AD1">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="literal" value="6"/>
		<property name="DistanceFactor" valueSource="literal" value="5"/>
		<property name="OutputTarget" value="GlacialSpikeTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<insertChild id="C28E312B47602920"/><!-- Cast at Max Range -->
	</node>
	<node name="Find Far Enemy" type="FindBestTarget" id="B1C2F6C8D0A92DD0">
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="literal" value="17"/>
		<property name="MinTargetDistance" valueSource="literal" value="11"/>
		<property name="OutputTarget" value="GlacialSpikeTargetUnit"/>
		<property name="DistanceFactor" valueSource="literal" value="3"/>
		<insertChild id="B6BC4E3AA2370CA4"/><!-- Cast at Max Range -->
	</node>
	<node name="Cast at Max Range" type="Ability" id="B6BC4E3AA2370CA4">
		<property name="Ability" valueSource="literal" value="KelThuzadGlacialSpike"/>
		<property name="UseMaxRange" valueSource="literal" value="true"/>
		<property name="TargetUnit" valueSource="variable" value="GlacialSpikeTargetUnit"/>
	</node>
	<node name="" type="Or" id="7C8C648B65D8BB9A">
		<insertChild id="DA6AF9C9B09673E3"/><!-- Find Glacial Spike Target -->
		<insertChild id="7A070C271716033C"/><!-- Find Point with 2 Enemy Heroes close enough -->
		<insertChild id="65D7D6CFFE95324E"/><!-- Find Structure Target -->
	</node>
	<node name="Find Glacial Spike Target" type="FindBestTarget" id="DA6AF9C9B09673E3">
		<property name="TargetTypes" valueSource="literal" value="Player"/>
		<property name="UnitType" valueSource="literal" value="KelThuzadGlacialSpike"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsRange"/>
		<property name="OutputTarget" value="ChainsTargetUnit"/>
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Benign"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<insertChild id="0D4FFE05968E75C1"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="0D4FFE05968E75C1">
		<property name="OutputPosition" value="ChainsTargetPoint"/>
		<property name="InputUnit" valueSource="variable" value="ChainsTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<insertChild id="FF352FCFDDD40E3B"/><!-- Find Secondary Target near Spike -->
	</node>
	<node name="" type="Or" id="78538FAC93F16300">
		<insertChild id="7AB5E2E6E8BBDB89"/><!-- Find Glacial Spike Target -->
		<insertChild id="5251507D7E333E27"/><!-- Find Other Hero -->
		<insertChild id="FBCA01E83190DD1E"/><!-- Find Structure -->
	</node>
	<node name="Find Glacial Spike" type="FindBestTarget" id="5279FFE084269848">
		<property name="MaxTargetDistance" valueSource="literal" value="30"/>
		<property name="OutputTarget" value="ChainsLinkCastUnit"/>
		<property name="TargetTypes" valueSource="literal" value="Player"/>
		<property name="UnitType" valueSource="literal" value="KelThuzadGlacialSpike"/>
		<property name="Behavior" valueSource="literal" value="KelThuzadChainsEnemySearchImpactTargetAB"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Benign"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
	</node>
	<node name="Find Glacial Spike Target" type="FindBestTarget" id="7AB5E2E6E8BBDB89">
		<property name="TargetTypes" valueSource="literal" value="Player"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Benign"/>
		<property name="UnitType" valueSource="literal" value="KelThuzadGlacialSpike"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="OutputTarget" value="ChainsLinkTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsLinkRange"/>
		<property name="MinTargetDistance" valueSource="literal" value="0.1"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="SearchCenter" valueSource="variable" value="ChainsLinkCastPoint"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<insertChild id="0F6AD2AFD16572CF"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="0F6AD2AFD16572CF">
		<property name="OutputPosition" value="ChainsLinkTargetPoint"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="InputUnit" valueSource="variable" value="ChainsLinkTargetUnit"/>
	</node>
	<node name="Shifting Malice Defensive" type="And" id="AC54CC441028B6EA">
		<insertChild id="71D6FA7572F02D1B"/><!-- Critical Health -->
		<insertChild id="DEABB81F79587D74"/><!-- Enemies Nearby or In Danger -->
		<insertChild id="6DD0AE8882C55113"/><!-- Cast -->
	</node>
	<node name="Shifting Malice Usable" type="AbilityUsable" id="A9FF1942511EAD1E">
		<property name="Ability" valueSource="literal" value="KelThuzadShiftingMalice"/>
		<insertChild id="AC54CC441028B6EA"/><!-- Shifting Malice Defensive -->
	</node>
	<node name="Critical Health" type="Health" id="71D6FA7572F02D1B">
		<property name="Comparison" valueSource="literal" value="LT"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<property name="Health" valueSource="variable" value="Health_ReturnToSpawn"/>
	</node>
	<node name="Enemies Nearby or In Danger" type="Or" id="DEABB81F79587D74">
		<insertChild id="E8B99BB2DCE529CF"/><!-- In Danger -->
		<insertChild id="7A29A97B15CD196A"/><!-- Enemy Hero Nearby -->
	</node>
	<node name="Cast" type="Ability" id="6DD0AE8882C55113">
		<property name="Ability" valueSource="literal" value="KelThuzadShiftingMalice"/>
		<property name="TargetPoint" valueSource="intrinsic" value="SafePos"/>
	</node>
	<node name="Enemy Hero Nearby" type="UnitCount" id="7A29A97B15CD196A">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="MaxTargetDistance" valueSource="literal" value="4"/>
	</node>
	<node name="In Danger" type="InDanger" id="E8B99BB2DCE529CF">
		<property name="EnemyRadius" valueSource="literal" value="8"/>
		<property name="AllyRadius" valueSource="literal" value="12"/>
		<property name="DangerPosition" valueSource="intrinsic" value="SelfPos"/>
	</node>
	<node name="Find 1+ Hero Target" type="FindBestAOEPoint" id="6CD73F77C319303B">
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.625"/>
		<property name="MissileRadius" valueSource="variable" value="Death And Decay Missile Radius"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Death And Decay Range"/>
		<property name="AOERadius" valueSource="variable" value="Death And Decay AOE Radius"/>
		<property name="OutputTarget" value="Death And Decay Target Point"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxBestTargetOffset" valueSource="variable" value="Death And Decay Missile Radius"/>
	</node>
	<node name="Find 3+ of Any Targets" type="FindBestAOEPoint" id="F602DDC510CD71A7">
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.625"/>
		<property name="MissileRadius" valueSource="variable" value="Death And Decay Missile Radius"/>
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Death And Decay Range"/>
		<property name="OutputTarget" value="Death And Decay Target Point"/>
		<property name="MinTargets" valueSource="literal" value="3"/>
		<property name="AOERadius" valueSource="variable" value="Death And Decay AOE Radius"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxBestTargetOffset" valueSource="variable" value="Death And Decay Missile Radius"/>
	</node>
	<node name="Plaguelands Talent Completion Check" type="Sequence" id="7F91D42DB7438D1F">
		<property name="IgnoreChildFailures" valueSource="literal" value="true"/>
		<insertChild id="5C58AC6D45343A93"/><!-- Has Plaguelands Complete -->
	</node>
	<node name="Has Plaguelands Complete" type="Validator" id="5C58AC6D45343A93">
		<property name="Validator" valueSource="literal" value="KelThuzadThePlaguelandsComplete"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<insertChild id="A46818FC069F0EC5"/><!-- Increase Radius -->
	</node>
	<node name="Increase Radius" type="SetNumber" id="A46818FC069F0EC5">
		<property name="Variable" value="Death And Decay AOE Radius"/>
		<property name="Value" valueSource="literal" value="3"/>
	</node>
	<node name="Find Midrange Enemy" type="FindBestTarget" id="14B30CC1BBA929D3">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="MaxTargetDistance" valueSource="literal" value="11"/>
		<property name="MinTargetDistance" valueSource="literal" value="6"/>
		<property name="OutputTarget" value="GlacialSpikeTargetUnit"/>
		<insertChild id="2B8C36C92D2F57D1"/><!-- Find point between target and caster -->
	</node>
	<node name="Cast at Max Range" type="Ability" id="C28E312B47602920">
		<property name="Ability" valueSource="literal" value="KelThuzadGlacialSpike"/>
		<property name="TargetUnit" valueSource="variable" value="GlacialSpikeTargetUnit"/>
		<property name="UseMaxRange" valueSource="literal" value="true"/>
	</node>
	<node name="Find point between target and caster" type="FindPointOnLine" id="2B8C36C92D2F57D1">
		<property name="SourceUnit" valueSource="variable" value="GlacialSpikeTargetUnit"/>
		<property name="DestinationUnit" valueSource="intrinsic" value="Self"/>
		<property name="DistanceOffset" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="GlacialSpikeTargetPoint"/>
		<insertChild id="FBD1CA222A887559"/><!-- Place Spike at point -->
	</node>
	<node name="Place Spike at point" type="Ability" id="FBD1CA222A887559">
		<property name="Ability" valueSource="literal" value="KelThuzadGlacialSpike"/>
		<property name="TargetPoint" valueSource="variable" value="GlacialSpikeTargetPoint"/>
	</node>
	<node name="" type="Or" id="CE7003C81075D66E">
		<insertChild id="4E4CAE70BD2E8F51"/><!-- Freeze Max Units -->
		<insertChild id="737553557247293D"/><!-- Frost Max Units -->
	</node>
	<node name="Freeze Max Units" type="FindBestAOEPoint" id="4E4CAE70BD2E8F51" comment="Max distance set to .5 so at least that much of the crit circle will be inside the main target hero.">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="SearchCenter" valueSource="variable" value="FrostNovaTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="literal" value="0.5"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="AOERadius" valueSource="variable" value="FrostNovaCritRadius"/>
		<property name="OutputTarget" value="FrostNovaTargetPoint"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="PreferredPoint" valueSource="intrinsic" value="SelfPos"/>
		<property name="PreferredPointFactor" valueSource="literal" value="2"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
	</node>
	<node name="Targeting Selection" type="Or" id="C8023BA9007814D9">
		<insertChild id="6CD73F77C319303B"/><!-- Find 1+ Hero Target -->
		<insertChild id="53B2DF1FD8A5A70D"/><!-- Find 2+ Mercs -->
		<insertChild id="F602DDC510CD71A7"/><!-- Find 3+ of Any Targets -->
	</node>
	<node name="Enemy Hero Nearby" type="UnitCount" id="EBC0D6BA7D7718C1">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="literal" value="8"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="Comparison" valueSource="literal" value="LE"/>
	</node>
	<node name="Danger Check" type="And" id="8BF02FC5DB97A95A">
		<insertChild id="6264687F74466E49"/><!--  -->
		<insertChild id="0E46ED2BCCB860B4"/><!--  -->
	</node>
	<node name="Over 50%" type="Health" id="A1327991F4CC9CA2">
		<property name="Health" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="" type="Or" id="0E46ED2BCCB860B4">
		<insertChild id="EBC0D6BA7D7718C1"/><!-- Enemy Hero Nearby -->
		<insertChild id="A1327991F4CC9CA2"/><!-- Over 50% -->
	</node>
	<node name="Mana Filter" type="Or" id="00B5279963FC56BC">
		<insertChild id="F1968E9D31F4A601"/><!-- High -->
		<insertChild id="FB1CDF7C3D273698"/><!-- Medium -->
		<insertChild id="B55A9A059ACBC7B1"/><!-- Low -->
	</node>
	<node name="High" type="And" id="F1968E9D31F4A601">
		<insertChild id="C18C87A67E77E226"/><!-- High Mana -->
		<insertChild id="C8023BA9007814D9"/><!-- Targeting Selection -->
	</node>
	<node name="Find 2+ Mercs" type="FindBestAOEPoint" id="53B2DF1FD8A5A70D">
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.625"/>
		<property name="MissileRadius" valueSource="variable" value="Death And Decay Missile Radius"/>
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Death And Decay Range"/>
		<property name="OutputTarget" value="Death And Decay Target Point"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="AOERadius" valueSource="variable" value="Death And Decay AOE Radius"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="TargetTypes" valueSource="literal" value="Creep"/>
		<property name="MaxBestTargetOffset" valueSource="variable" value="Death And Decay Missile Radius"/>
	</node>
	<node name="Medium" type="And" id="FB1CDF7C3D273698">
		<insertChild id="B7E51B3039FA5241"/><!-- Med Mana -->
		<insertChild id="E01EC28BCB9CC97D"/><!-- Targeting Selection -->
	</node>
	<node name="Low" type="And" id="B55A9A059ACBC7B1">
		<insertChild id="D3A384F73CD5B826"/><!-- Low Mana -->
		<insertChild id="7111953C4C4F05DD"/><!-- Targeting Selection -->
	</node>
	<node name="Targeting Selection" type="Or" id="E01EC28BCB9CC97D">
		<insertChild id="DFB7B6D570D1F286"/><!-- Find 1+ Hero Target -->
		<insertChild id="C0505DF36A7C5050"/><!-- Find 2+ Mercs -->
	</node>
	<node name="Find 1+ Hero Target" type="FindBestAOEPoint" id="DFB7B6D570D1F286">
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.625"/>
		<property name="MissileRadius" valueSource="variable" value="Death And Decay Missile Radius"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Death And Decay Range"/>
		<property name="AOERadius" valueSource="variable" value="Death And Decay AOE Radius"/>
		<property name="OutputTarget" value="Death And Decay Target Point"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxBestTargetOffset" valueSource="variable" value="Death And Decay Missile Radius"/>
	</node>
	<node name="Find 2+ Mercs" type="FindBestAOEPoint" id="C0505DF36A7C5050">
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.625"/>
		<property name="MissileRadius" valueSource="variable" value="Death And Decay Missile Radius"/>
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Death And Decay Range"/>
		<property name="OutputTarget" value="Death And Decay Target Point"/>
		<property name="MinTargets" valueSource="literal" value="2"/>
		<property name="AOERadius" valueSource="variable" value="Death And Decay AOE Radius"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="TargetTypes" valueSource="literal" value="Creep"/>
		<property name="MaxBestTargetOffset" valueSource="variable" value="Death And Decay Missile Radius"/>
	</node>
	<node name="Targeting Selection" type="Or" id="7111953C4C4F05DD">
		<insertChild id="0EBFC28A847B11AF"/><!-- Find 1+ Hero Target -->
	</node>
	<node name="Find 1+ Hero Target" type="FindBestAOEPoint" id="0EBFC28A847B11AF">
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.625"/>
		<property name="MissileRadius" valueSource="variable" value="Death And Decay Missile Radius"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Death And Decay Range"/>
		<property name="AOERadius" valueSource="variable" value="Death And Decay AOE Radius"/>
		<property name="OutputTarget" value="Death And Decay Target Point"/>
		<property name="MinTargets" valueSource="literal" value="1"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="MaxBestTargetOffset" valueSource="variable" value="Death And Decay Missile Radius"/>
	</node>
	<node name="Mana Filter" type="Or" id="17716449414267BC">
		<insertChild id="DDEE2071C15B894D"/><!-- High -->
		<insertChild id="68BE8D0443759F05"/><!-- Medium -->
		<insertChild id="9BA2BA7D035C68BE"/><!-- Low -->
	</node>
	<node name="High" type="And" id="DDEE2071C15B894D">
		<insertChild id="8131F04D58972676"/><!-- High Mana -->
		<insertChild id="37B98013832505F8"/><!-- Targeting Selection -->
	</node>
	<node name="Low" type="And" id="9BA2BA7D035C68BE">
		<insertChild id="F15E60E47787D995"/><!-- Low Mana -->
		<insertChild id="298ED6B15CC1631F"/><!-- Targeting Selection -->
	</node>
	<node name="Medium" type="And" id="68BE8D0443759F05">
		<insertChild id="D7586760C7E204A7"/><!-- Med Mana -->
		<insertChild id="087E07EC6B3E783C"/><!-- Targeting Selection -->
	</node>
	<node name="Targeting Selection" type="Or" id="37B98013832505F8">
		<insertChild id="11580EC9B8502B70"/><!-- Movement Impaired -->
		<insertChild id="6BB817999A038ED7"/><!-- Find Weak Hero -->
	</node>
	<node name="Find Wounded Hero" type="FindBestTarget" id="352308498D427C6C">
		<property name="MaxLifeFraction" valueSource="literal" value="0.75"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="OutputTarget" value="ShadowFissureTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="literal" value="500"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
		<insertChild id="ED7BB957D9EC3F6E"/><!--  -->
	</node>
	<node name="Targeting Selection" type="Or" id="087E07EC6B3E783C">
		<insertChild id="02D0496F9C23301B"/><!-- Movement Impaired -->
		<insertChild id="3526B8EE1C42837A"/><!-- Find Very Weak Hero -->
	</node>
	<node name="Find Weak Hero" type="FindBestTarget" id="CE4952D9F19371CC">
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="OutputTarget" value="ShadowFissureTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="literal" value="500"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
		<insertChild id="1A49B4817C1108F2"/><!--  -->
	</node>
	<node name="Find Very Weak Hero" type="FindBestTarget" id="A0DD21690A9F6539">
		<property name="MaxLifeFraction" valueSource="literal" value="0.25"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="OutputTarget" value="ShadowFissureTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="literal" value="500"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
		<insertChild id="C102BD6025FCE959"/><!--  -->
	</node>
	<node name="Targeting Selection" type="Or" id="298ED6B15CC1631F">
		<insertChild id="A82B5392877883BA"/><!-- Movement Impaired -->
	</node>
	<node name="" type="UnitPosition" id="ED7BB957D9EC3F6E">
		<property name="OutputPosition" value="ShadowFissureTargetPoint"/>
		<property name="InputUnit" valueSource="variable" value="ShadowFissureTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
	</node>
	<node name="" type="UnitPosition" id="1A49B4817C1108F2">
		<property name="OutputPosition" value="ShadowFissureTargetPoint"/>
		<property name="InputUnit" valueSource="variable" value="ShadowFissureTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
	</node>
	<node name="" type="UnitPosition" id="C102BD6025FCE959">
		<property name="OutputPosition" value="ShadowFissureTargetPoint"/>
		<property name="InputUnit" valueSource="variable" value="ShadowFissureTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
	</node>
	<node name="Mana Filter" type="Or" id="0EEC69256DC2B3D3">
		<insertChild id="BC2F46C0C61DA6C9"/><!-- High -->
		<insertChild id="97DFD669B0DD3707"/><!-- Medium -->
		<insertChild id="3242CD90CA9D40D6"/><!-- Low -->
	</node>
	<node name="High" type="And" id="BC2F46C0C61DA6C9">
		<insertChild id="D25680FD06BE181C"/><!-- High Mana -->
		<insertChild id="7ABCC5919DADEE36"/><!-- Allies Nearby -->
		<insertChild id="259434552AC95A00"/><!--  -->
	</node>
	<node name="Medium" type="And" id="97DFD669B0DD3707">
		<insertChild id="EF2991A9BC68EE7C"/><!-- Med Mana -->
		<insertChild id="77264DE9E820502D"/><!-- Allies Nearby -->
		<insertChild id="0DCC9C90B5CD5657"/><!--  -->
	</node>
	<node name="Low" type="And" id="3242CD90CA9D40D6">
		<insertChild id="3B6F10C190361500"/><!-- Low Mana -->
		<insertChild id="6047FE578D45ED5C"/><!-- Allies Nearby -->
		<insertChild id="2D763624ECB18A1B"/><!--  -->
	</node>
	<node name="Danger Check" type="And" id="52AE2FDFE651A4F4">
		<insertChild id="B76774DD9C9546F8"/><!--  -->
		<insertChild id="3119C00EFC6A7C53"/><!--  -->
	</node>
	<node name="" type="Not" id="B76774DD9C9546F8">
		<insertChild id="1AFE185D8762CF56"/><!-- In Danger -->
	</node>
	<node name="In Danger" type="InDanger" id="1AFE185D8762CF56" comment="Check if we are in danger">
		<property name="DangerPosition" valueSource="intrinsic" value="SelfPos"/>
	</node>
	<node name="" type="Or" id="3119C00EFC6A7C53">
		<insertChild id="2244585BC01B4D9D"/><!-- At Most 1 Enemy Hero Nearby -->
		<insertChild id="C3F0684DFEFA00A2"/><!-- Over 50% -->
	</node>
	<node name="At Most 1 Enemy Hero Nearby" type="UnitCount" id="2244585BC01B4D9D">
		<property name="TargetTypes" valueSource="literal" value="Heroic,Summoned"/>
		<property name="MaxTargetDistance" valueSource="literal" value="10"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="Comparison" valueSource="literal" value="LE"/>
	</node>
	<node name="Over 50%" type="Health" id="C3F0684DFEFA00A2">
		<property name="Health" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Allies Nearby" type="UnitCount" id="7ABCC5919DADEE36">
		<property name="TargetTypes" valueSource="literal" value="Ally"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="SearchCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MaxTargetDistance" valueSource="literal" value="10"/>
	</node>
	<node name="" type="Or" id="259434552AC95A00">
		<insertChild id="1123051A00686F62"/><!-- Find 3 Heroes within range -->
		<insertChild id="E95AC690EE421C0A"/><!-- Find Damaged Hero -->
	</node>
	<node name="Find Damaged Hero" type="FindBestTarget" id="E95AC690EE421C0A">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="LifeFractionFactor" valueSource="literal" value="1"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.75"/>
		<property name="OutputTarget" value="FrozenTombTargetUnit"/>
		<insertChild id="34ECF59DB82F2F23"/><!--  -->
	</node>
	<node name="" type="UnitPosition" id="34ECF59DB82F2F23">
		<property name="OutputPosition" value="FrozenTombTargetSearchPoint"/>
		<property name="InputUnit" valueSource="variable" value="FrozenTombTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<insertChild id="DCC8D49D9CA3C6FD"/><!-- Make sure there's someone nearby to Freeze -->
	</node>
	<node name="Make sure there&apos;s someone nearby to Freeze" type="UnitCount" id="DCC8D49D9CA3C6FD">
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="SearchCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrozenTombAoERadius"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="Comparison" valueSource="literal" value="GE"/>
	</node>
	<node name="" type="UnitPosition" id="1AC6A6812E81A48A">
		<property name="OutputPosition" value="FrozenTombTargetSearchPoint"/>
		<property name="InputUnit" valueSource="variable" value="FrozenTombTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
	</node>
	<node name="" type="Or" id="0DCC9C90B5CD5657">
		<insertChild id="510495096865D93E"/><!-- Find 3 Heroes within range -->
		<insertChild id="C2DA3C83CE3A0992"/><!-- Find Half Health Hero -->
	</node>
	<node name="Find 3 Heroes within range" type="FindBestAOEPoint" id="510495096865D93E" comment="Half Radius to make sure potential targets are at most 6 apart (spell radius)">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MinTargets" valueSource="literal" value="3"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="AOERadius" valueSource="variable" value="FrozenTombAoEHalfRadius"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="OutputTarget" value="FrozenTombTargetSearchPoint"/>
		<insertChild id="015FEFA7952F5DE1"/><!-- Find Target Unit -->
	</node>
	<node name="Find Target Unit" type="FindBestTarget" id="015FEFA7952F5DE1">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="ClipCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="ClipRadius" valueSource="variable" value="FrozenTombAoEHalfRadius"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="LifeFractionFactor" valueSource="literal" value="-1"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="FrozenTombTargetUnit"/>
		<insertChild id="F73683F90992F15F"/><!--  -->
	</node>
	<node name="" type="UnitPosition" id="F73683F90992F15F">
		<property name="OutputPosition" value="FrozenTombTargetSearchPoint"/>
		<property name="InputUnit" valueSource="variable" value="FrozenTombTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
	</node>
	<node name="Find Half Health Hero" type="FindBestTarget" id="C2DA3C83CE3A0992">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="LifeFractionFactor" valueSource="literal" value="1"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="OutputTarget" value="FrozenTombTargetUnit"/>
		<insertChild id="884F8CF23C990431"/><!--  -->
	</node>
	<node name="" type="UnitPosition" id="884F8CF23C990431">
		<property name="OutputPosition" value="FrozenTombTargetSearchPoint"/>
		<property name="InputUnit" valueSource="variable" value="FrozenTombTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<insertChild id="3C1340BE288D6248"/><!-- Make sure there's someone nearby to Freeze -->
	</node>
	<node name="Make sure there&apos;s someone nearby to Freeze" type="UnitCount" id="3C1340BE288D6248">
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="SearchCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrozenTombAoERadius"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="Comparison" valueSource="literal" value="GE"/>
	</node>
	<node name="" type="Or" id="2D763624ECB18A1B">
		<insertChild id="F6D2073AE1656D0D"/><!-- Find 3 Heroes within range -->
		<insertChild id="8C62480BA05374D2"/><!-- Find Low Health Hero -->
	</node>
	<node name="Find 3 Heroes within range" type="FindBestAOEPoint" id="F6D2073AE1656D0D" comment="Half Radius to make sure potential targets are at most 6 apart (spell radius)">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MinTargets" valueSource="literal" value="3"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="AOERadius" valueSource="variable" value="FrozenTombAoEHalfRadius"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="OutputTarget" value="FrozenTombTargetSearchPoint"/>
		<insertChild id="D1D244E12973E025"/><!-- Find Target Unit -->
	</node>
	<node name="Find Target Unit" type="FindBestTarget" id="D1D244E12973E025">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="ClipCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="ClipRadius" valueSource="variable" value="FrozenTombAoEHalfRadius"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="LifeFractionFactor" valueSource="literal" value="-1"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="FrozenTombTargetUnit"/>
		<insertChild id="22ED501D9DFFDFD6"/><!--  -->
	</node>
	<node name="" type="UnitPosition" id="22ED501D9DFFDFD6">
		<property name="OutputPosition" value="FrozenTombTargetSearchPoint"/>
		<property name="InputUnit" valueSource="variable" value="FrozenTombTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
	</node>
	<node name="Find Low Health Hero" type="FindBestTarget" id="8C62480BA05374D2">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MaxTargetDistance" valueSource="literal" value="14"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="LifeFractionFactor" valueSource="literal" value="1"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.25"/>
		<property name="OutputTarget" value="FrozenTombTargetUnit"/>
		<insertChild id="3553F4B8019605FB"/><!--  -->
	</node>
	<node name="" type="UnitPosition" id="3553F4B8019605FB">
		<property name="OutputPosition" value="FrozenTombTargetSearchPoint"/>
		<property name="InputUnit" valueSource="variable" value="FrozenTombTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<insertChild id="73DF3CCF309DB3D7"/><!-- Make sure there's someone nearby to Freeze -->
	</node>
	<node name="Make sure there&apos;s someone nearby to Freeze" type="UnitCount" id="73DF3CCF309DB3D7">
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="SearchCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrozenTombAoERadius"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="Comparison" valueSource="literal" value="GE"/>
	</node>
	<node name="Find Chains Link Source Unit" type="Or" id="958C41C8D37A4465">
		<insertChild id="5A7181C9422F13F9"/><!-- Hero Initial Target -->
		<insertChild id="BE05E2477BC71092"/><!-- Spike Initial Target -->
		<insertChild id="EEEA05341184EC38"/><!-- Structure Initial Target -->
	</node>
	<node name="Spike Initial Target" type="And" id="BE05E2477BC71092">
		<insertChild id="5279FFE084269848"/><!-- Find Glacial Spike -->
		<insertChild id="74CA61FD95B30082"/><!-- Find Nearby Enemy Hero -->
	</node>
	<node name="Find Nearby Enemy Hero" type="FindBestTarget" id="74CA61FD95B30082">
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="SearchCenter" valueSource="variable" value="ChainsLinkCastUnit"/>
		<property name="MinTargetDistance" valueSource="literal" value="0.1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsLinkRange"/>
		<property name="OutputTarget" value="ChainsLinkTargetUnit"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<insertChild id="3B53133DDA2D6FEB"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="3B53133DDA2D6FEB">
		<property name="InputUnit" valueSource="variable" value="ChainsLinkTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="OutputPosition" value="ChainsLinkTargetPoint"/>
	</node>
	<node name="Hero Initial Target" type="And" id="5A7181C9422F13F9">
		<insertChild id="6E4B606E7F47403D"/><!-- Find Chained Enemy Hero -->
		<insertChild id="6E4A656E7F473427"/><!-- ChainsLinkGetFindCastPoint -->
		<insertChild id="78538FAC93F16300"/><!--  -->
	</node>
	<node name="Find Structure" type="FindBestTarget" id="FBCA01E83190DD1E">
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<property name="TargetTypes" valueSource="literal" value="Structure"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="SearchCenter" valueSource="variable" value="ChainsLinkCastPoint"/>
		<property name="MinTargetDistance" valueSource="literal" value="0.1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsLinkRange"/>
		<property name="LifeFractionFactor" valueSource="literal" value="1"/>
		<property name="DistanceFactor" valueSource="literal" value="1"/>
		<property name="OutputTarget" value="ChainsLinkTargetUnit"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MissilePierceCount" valueSource="literal" value="1"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<insertChild id="D85126BD0B4BB7CE"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="D85126BD0B4BB7CE">
		<property name="InputUnit" valueSource="variable" value="ChainsLinkTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="OutputPosition" value="ChainsLinkTargetPoint"/>
	</node>
	<node name="Find Structure Target" type="FindBestTarget" id="65D7D6CFFE95324E">
		<property name="TargetTypes" valueSource="literal" value="Structure"/>
		<property name="UnitType" valueSource="literal" value=""/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsRange"/>
		<property name="OutputTarget" value="ChainsTargetUnit"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="ExcludeTypes" valueSource="literal" value="Missile,Stasis,Dead,Invulnerable,Benign"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<insertChild id="8966AC6CC9BBD246"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="8966AC6CC9BBD246">
		<property name="OutputPosition" value="ChainsTargetPoint"/>
		<property name="InputUnit" valueSource="variable" value="ChainsTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<insertChild id="E59C1D0ABD04FD48"/><!-- Find Secondary Target near Structure -->
	</node>
	<node name="Mana Filter" type="Or" id="3A8B2F720E25B6D3">
		<insertChild id="9D39490A35C1285B"/><!-- High -->
		<insertChild id="F6638C25034AE91E"/><!-- Medium -->
		<insertChild id="CA73F1475EF3647B"/><!-- Low -->
	</node>
	<node name="High" type="And" id="9D39490A35C1285B">
		<insertChild id="AA33141425D6140E"/><!-- High Mana -->
		<insertChild id="1872747E48635840"/><!-- Find a Hero -->
	</node>
	<node name="Medium" type="And" id="F6638C25034AE91E">
		<insertChild id="0849B01CD98040A3"/><!-- Med Mana -->
		<insertChild id="DF64A1FB426C22C5"/><!-- Find a damaged hero -->
	</node>
	<node name="Low" type="And" id="CA73F1475EF3647B">
		<insertChild id="0A1B4BC3094B4119"/><!-- Low Mana -->
		<insertChild id="1E5D1C1676CD686F"/><!-- Find a 50% Hero -->
	</node>
	<node name="Find a damaged hero" type="FindBestTarget" id="DF64A1FB426C22C5">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrostNovaRange"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="OutputTarget" value="FrostNovaTargetUnit"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.75"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<insertChild id="D4CFC02C3EC847D4"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="D4CFC02C3EC847D4">
		<property name="InputUnit" valueSource="variable" value="FrostNovaTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="OutputPosition" value="FrostNovaTargetPoint"/>
	</node>
	<node name="Find a 50% Hero" type="FindBestTarget" id="1E5D1C1676CD686F">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="MaxTargetDistance" valueSource="variable" value="FrostNovaRange"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="OutputTarget" value="FrostNovaTargetUnit"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<insertChild id="C0CE26774FA90A36"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="C0CE26774FA90A36">
		<property name="InputUnit" valueSource="variable" value="FrostNovaTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.125"/>
		<property name="OutputPosition" value="FrostNovaTargetPoint"/>
	</node>
	<node name="Allies Nearby" type="UnitCount" id="77264DE9E820502D">
		<property name="TargetTypes" valueSource="literal" value="Ally"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="SearchCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MaxTargetDistance" valueSource="literal" value="10"/>
	</node>
	<node name="Allies Nearby" type="UnitCount" id="6047FE578D45ED5C">
		<property name="TargetTypes" valueSource="literal" value="Ally"/>
		<property name="RequiredTypes" valueSource="literal" value="Heroic"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="SearchCenter" valueSource="variable" value="FrozenTombTargetSearchPoint"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.5"/>
		<property name="MaxTargetDistance" valueSource="literal" value="10"/>
	</node>
	<node name="High Mana" type="Energy" id="AA33141425D6140E">
		<property name="Energy" valueSource="literal" value="0.7"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Med Mana" type="Energy" id="0849B01CD98040A3">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Low Mana" type="Energy" id="0A1B4BC3094B4119">
		<property name="Energy" valueSource="literal" value="0.3"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="High Mana" type="Energy" id="C18C87A67E77E226">
		<property name="Energy" valueSource="literal" value="0.7"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Med Mana" type="Energy" id="B7E51B3039FA5241">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Low Mana" type="Energy" id="D3A384F73CD5B826">
		<property name="Energy" valueSource="literal" value="0.3"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Low Mana" type="Energy" id="F15E60E47787D995">
		<property name="Energy" valueSource="literal" value="0.3"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Low Mana" type="Energy" id="3B6F10C190361500">
		<property name="Energy" valueSource="literal" value="0.3"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Med Mana" type="Energy" id="D7586760C7E204A7">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Med Mana" type="Energy" id="EF2991A9BC68EE7C">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="High Mana" type="Energy" id="8131F04D58972676">
		<property name="Energy" valueSource="literal" value="0.7"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="High Mana" type="Energy" id="D25680FD06BE181C">
		<property name="Energy" valueSource="literal" value="0.7"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Med Mana" type="Energy" id="B01F4E56AD280AE6">
		<property name="Energy" valueSource="literal" value="0.5"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
	</node>
	<node name="Movement Impaired" type="FilterBehaviorCategory" id="A82B5392877883BA">
		<property name="Categories" valueSource="literal" value="Slow,Stun,KnockedOut,Sleeping,User5"/>
		<insertChild id="A0DD21690A9F6539"/><!-- Find Very Weak Hero -->
	</node>
	<node name="Find Very Weak Hero" type="FindBestTarget" id="3526B8EE1C42837A">
		<property name="MaxLifeFraction" valueSource="literal" value="0.25"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="OutputTarget" value="ShadowFissureTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="literal" value="500"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
		<insertChild id="F7AA3DF40AF51B1D"/><!--  -->
	</node>
	<node name="" type="UnitPosition" id="F7AA3DF40AF51B1D">
		<property name="OutputPosition" value="ShadowFissureTargetPoint"/>
		<property name="InputUnit" valueSource="variable" value="ShadowFissureTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
	</node>
	<node name="Movement Impaired" type="FilterBehaviorCategory" id="02D0496F9C23301B">
		<property name="Categories" valueSource="literal" value="Slow,Stun,KnockedOut,Sleeping,User5"/>
		<insertChild id="CE4952D9F19371CC"/><!-- Find Weak Hero -->
	</node>
	<node name="Movement Impaired" type="FilterBehaviorCategory" id="11580EC9B8502B70">
		<property name="Categories" valueSource="literal" value="Slow,Stun,KnockedOut,Sleeping,User5"/>
		<insertChild id="352308498D427C6C"/><!-- Find Wounded Hero -->
	</node>
	<node name="Find Weak Hero" type="FindBestTarget" id="6BB817999A038ED7">
		<property name="MaxLifeFraction" valueSource="literal" value="0.5"/>
		<property name="LifeFractionFactor" valueSource="literal" value="3"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="OutputTarget" value="ShadowFissureTargetUnit"/>
		<property name="MaxTargetDistance" valueSource="literal" value="500"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
		<insertChild id="113B2536BBC88381"/><!--  -->
	</node>
	<node name="" type="UnitPosition" id="113B2536BBC88381">
		<property name="OutputPosition" value="ShadowFissureTargetPoint"/>
		<property name="InputUnit" valueSource="variable" value="ShadowFissureTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="1.625"/>
	</node>
	<node name="Find Secondary Target near Spike" type="UnitCount" id="FF352FCFDDD40E3B">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="SearchCenter" valueSource="variable" value="ChainsTargetUnit"/>
		<property name="MinTargetDistance" valueSource="literal" value="0.1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsLinkRange"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
	</node>
	<node name="Find Secondary Target near Structure" type="UnitCount" id="E59C1D0ABD04FD48">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="SearchCenter" valueSource="variable" value="ChainsTargetUnit"/>
		<property name="MinTargetDistance" valueSource="literal" value="0.1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsLinkRange"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="MissilePierceCount" valueSource="literal" value="1"/>
	</node>
	<node name="Structure Initial Target" type="And" id="EEEA05341184EC38">
		<insertChild id="E2342EA4F66E8A4B"/><!-- Find Chained Enemy Structure -->
		<insertChild id="F3A1EDE4C4D84EBC"/><!-- Find Nearby Enemy Hero -->
	</node>
	<node name="Find Chained Enemy Structure" type="FindBestTarget" id="E2342EA4F66E8A4B">
		<property name="TargetTypes" valueSource="literal" value="Structure"/>
		<property name="MaxTargetDistance" valueSource="literal" value="30"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="true"/>
		<property name="Behavior" valueSource="literal" value="KelThuzadChainsEnemySearchImpactTargetAB"/>
		<property name="OutputTarget" value="ChainsLinkCastUnit"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
	</node>
	<node name="Find Nearby Enemy Hero" type="FindBestTarget" id="F3A1EDE4C4D84EBC">
		<property name="TargetBlockingTypes" valueSource="literal" value="Enemy,Structure,Heroic"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="SearchCenter" valueSource="variable" value="ChainsLinkCastUnit"/>
		<property name="MinTargetDistance" valueSource="literal" value="0.1"/>
		<property name="MaxTargetDistance" valueSource="variable" value="ChainsLinkRange"/>
		<property name="OutputTarget" value="ChainsLinkTargetUnit"/>
		<property name="FilterTargetsBehindGate" valueSource="literal" value="true"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MissilePierceCount" valueSource="literal" value="1"/>
		<insertChild id="A8F197B1B768228A"/><!-- Convert Unit to future point -->
	</node>
	<node name="Convert Unit to future point" type="UnitPosition" id="A8F197B1B768228A">
		<property name="InputUnit" valueSource="variable" value="ChainsLinkTargetUnit"/>
		<property name="EstimateFutureSeconds" valueSource="literal" value="0.125"/>
		<property name="OutputPosition" value="ChainsLinkTargetPoint"/>
	</node>
	<node name="Shifting Malice Usable" type="AbilityUsable" id="98D2064847F3C31C">
		<property name="Ability" valueSource="literal" value="KelThuzadShiftingMalice"/>
		<insertChild id="0B819F14A92F36BB"/><!-- Shifting Malice Offensive -->
	</node>
	<node name="Shifting Malice Offensive" type="And" id="0B819F14A92F36BB">
		<variable name="MaliceTargetUnit" type="Unit"/>
		<variable name="MaxTargetHealth" type="Number" value="0.2"/>
		<insertChild id="A2B6B46E4AC9E4EB"/><!-- Uprade Check -->
		<insertChild id="BF0A955C27089AA8"/><!-- Find Killable Target -->
		<insertChild id="FA853F5E3E660C1F"/><!-- Cast -->
	</node>
	<node name="Uprade Check" type="Sequence" id="A2B6B46E4AC9E4EB">
		<property name="IgnoreChildFailures" valueSource="literal" value="true"/>
		<insertChild id="01ACEFFA0B8F4DB7"/><!-- Trait Damage Bonus -->
	</node>
	<node name="Trait Damage Bonus" type="Validator" id="01ACEFFA0B8F4DB7">
		<property name="Validator" valueSource="literal" value="KelThuzadMasterOfTheColdDarkComplete"/>
		<property name="Target" valueSource="intrinsic" value="Self"/>
		<insertChild id="D5CCEDB6DB3EF120"/><!-- Increase Damage Threshold -->
	</node>
	<node name="Increase Damage Threshold" type="SetNumber" id="D5CCEDB6DB3EF120">
		<property name="Value" valueSource="literal" value="0.35"/>
		<property name="Variable" value="MaxTargetHealth"/>
	</node>
	<node name="Find Killable Target" type="FindBestTarget" id="BF0A955C27089AA8">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MissileRadius" valueSource="literal" value="1"/>
		<property name="FilterTargetsInDangerousArea" valueSource="literal" value="true"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxTargetDistance" valueSource="literal" value="7"/>
		<property name="OutputTarget" value="MaliceTargetUnit"/>
		<property name="MaxLifeFraction" valueSource="variable" value="MaxTargetHealth"/>
		<property name="LifeFractionFactor" valueSource="literal" value="5"/>
		<property name="MissilePierceCount" valueSource="literal" value="9001"/>
	</node>
	<node name="Cast" type="Ability" id="FA853F5E3E660C1F">
		<property name="Ability" valueSource="literal" value="KelThuzadShiftingMalice"/>
		<property name="TargetUnit" valueSource="variable" value="MaliceTargetUnit"/>
	</node>
	<node name="Armor of the Archlich Usable" type="AbilityUsable" id="858F383BDFDF7B9F">
		<property name="Ability" valueSource="literal" value="KelThuzadArchlichArmor"/>
		<insertChild id="E5B5DF48D918E92C"/><!-- Armor of the Archlich Offensive -->
	</node>
	<node name="Armor of the Archlich Offensive" type="And" id="E5B5DF48D918E92C">
		<variable name="Armor of the Archlich Range" type="Number" value="6"/>
		<insertChild id="273993E466F8B13F"/><!--  -->
		<insertChild id="0F2F221F8CFB317A"/><!-- Cast -->
	</node>
	<node name="3+ Enemy Heroes Nearby" type="UnitCount" id="37C9E7C372E0C889">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Armor of the Archlich Range"/>
		<property name="TargetCount" valueSource="literal" value="3"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
	</node>
	<node name="Cast" type="Ability" id="0F2F221F8CFB317A">
		<property name="Ability" valueSource="literal" value="KelThuzadArchlichArmor"/>
	</node>
	<node name="" type="Or" id="273993E466F8B13F">
		<insertChild id="37C9E7C372E0C889"/><!-- 3+ Enemy Heroes Nearby -->
		<insertChild id="B0E2D43824BDE210"/><!-- 2+ Wounded Heroes -->
		<insertChild id="15B26D0A75E35C51"/><!-- 1+ Badly Wounded Hero -->
	</node>
	<node name="1+ Badly Wounded Hero" type="UnitCount" id="15B26D0A75E35C51">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Armor of the Archlich Range"/>
		<property name="TargetCount" valueSource="literal" value="1"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.4"/>
	</node>
	<node name="2+ Wounded Heroes" type="UnitCount" id="B0E2D43824BDE210">
		<property name="TargetTypes" valueSource="literal" value="Heroic"/>
		<property name="MaxTargetDistance" valueSource="variable" value="Armor of the Archlich Range"/>
		<property name="TargetCount" valueSource="literal" value="2"/>
		<property name="RequiredTypes" valueSource="literal" value="Enemy"/>
		<property name="AddSelfRadiusToMaxTargetDistance" valueSource="literal" value="false"/>
		<property name="MaxLifeFraction" valueSource="literal" value="0.7"/>
	</node>
	<node name="The Damned Return" type="Sequence" id="F9A9095F89D47723">
		<property name="IgnoreChildFailures" valueSource="literal" value="true"/>
		<insertChild id="632BD1983CF42EB6"/><!-- The Damned Return -->
	</node>
	<node name="The Damned Return" type="AbilityUsable" id="632BD1983CF42EB6">
		<property name="Ability" valueSource="literal" value="KelThuzadSpawnShade"/>
		<insertChild id="BC516E53F38D6CD5"/><!-- The Damned Return -->
	</node>
	<node name="The Damned Return" type="And" id="BC516E53F38D6CD5">
		<variable name="Damned Return Range" type="Number" value="9"/>
		<variable name="Damned Return Point" type="Point"/>
		<insertChild id="0C4A13349D11639D"/><!-- Move In By 2 -->
		<insertChild id="852C79083017B668"/><!-- Cast at Target Point or at Max Range -->
	</node>
	<node name="Move In By 2" type="FindPointOnLine" id="0C4A13349D11639D">
		<property name="SourcePoint" valueSource="variable" value="Death And Decay Target Point"/>
		<property name="DestinationPoint" valueSource="intrinsic" value="Self"/>
		<property name="DistanceOffset" valueSource="literal" value="2"/>
		<property name="OutputTarget" value="Damned Return Point"/>
	</node>
	<node name="Cast at Target Point or at Max Range" type="Or" id="852C79083017B668">
		<insertChild id="83F17C48415A513A"/><!-- Inside Spell Range -->
		<insertChild id="165C2BD2A604775C"/><!-- The Damned Return -->
	</node>
	<node name="Inside Spell Range" type="UnitDistance" id="83F17C48415A513A">
		<property name="Unit" valueSource="intrinsic" value="Self"/>
		<property name="Point" valueSource="variable" value="Damned Return Point"/>
		<property name="MinRange" valueSource="variable" value="Damned Return Range"/>
		<property name="MaxRange" valueSource="variable" value="Damned Return Range"/>
		<insertChild id="3A22CF6204868F34"/><!-- The Damned Return -->
	</node>
	<node name="The Damned Return" type="Ability" id="3A22CF6204868F34">
		<property name="Ability" valueSource="literal" value="KelThuzadSpawnShade"/>
		<property name="TargetPoint" valueSource="variable" value="Damned Return Point"/>
	</node>
	<node name="The Damned Return" type="Ability" id="165C2BD2A604775C">
		<property name="Ability" valueSource="literal" value="KelThuzadSpawnShade"/>
		<property name="TargetPoint" valueSource="variable" value="Damned Return Point"/>
		<property name="UseMaxRange" valueSource="literal" value="true"/>
	</node>
</tree>